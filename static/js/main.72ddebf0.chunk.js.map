{"version":3,"sources":["bucktemplateprintpage.jpg","components/constants.jsx","components/LogInActivity.jsx","components/CreateAccount.jsx","components/AccountRecovery.jsx","components/Account.jsx","components/AccountList.jsx","components/ManageAccount.jsx","components/EditAccount.jsx","components/BuckSetListItem.jsx","components/ViewBucks.jsx","components/CreateBucks.jsx","components/FormSuccess.jsx","components/BucksLanding.jsx","components/Scan.jsx","components/FarmerPayout.jsx","components/Dashboard.jsx","components/MainView.jsx","components/Barrier.jsx","components/ViewData.jsx","App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","constants","routes","barrier","createAccount","accountRecovery","base","dash","viewData","createBucks","bucksLanding","viewBucks","scan","manageAccount","editAccount","formSuccess","farmerPayout","variables","colors","bodyBG","LogInActivity","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleOnUpdate","e","_ref","width","setState","state","email","pw","role","errorMessage","undefined","loading","_this2","authUnsub","firebase","auth","onAuthStateChanged","user","getIdTokenResult","then","idTokenResult","console","log","claims","history","push","evt","_this3","preventDefault","signInWithEmailAndPassword","catch","err","message","_this4","_this$state","colWidth","Responsive","onlyTablet","minWidth","react_default","a","createElement","as","Grid","fireOnMount","onUpdate","centered","middle","columns","Column","verticalAlign","textAlign","Message","attached","header","content","Form","className","onSubmit","handleSignIn","error","Input","required","id","label","placeholder","type","value","onInput","target","Button","Divider","hidden","Link","to","info","Icon","name","React","Component","CreateAccount","firstName","lastName","org","pw_confirm","toLowerCase","displayName","length","createUserWithEmailAndPassword","response","database","ref","concat","uid","set","vouchersList","approved","orgOptions","key","text","handleCreateAccount","htmlFor","Select","options","onChange","data","readOnly","AccountRecovery","successMessage","currentUser","sendPasswordResetEmail","handlePasswordReset","warning","Account","functions","httpsCallable","deleteUser","acctSnapshot","val","result","acctRef","child","remove","acct","update","changeRole","appEl","Table","Cell","Row","Header","Content","Subheader","Group","size","positive","onClick","handleApprove","handlePurge","AccountList","accountSnapshot","nextProps","accountRef","off","unlisten","on","snapshot","Segment","Dimmer","active","inverted","Loader","indeterminate","accts","forEach","Account_Account","Container","singleLine","stackable","selectable","HeaderCell","Body","ManageAccount","filter","date_added","handleChange","bind","assertThisInitialized","style","paddingTop","paddingRight","paddingLeft","raised","AccountList_AccountList","BuckSetListItem","showView","viewModalOpen","showDelete","deleteModalOpen","close","deleteBuckSet","title","viewBuckSet","_this$props$data","subtitle","open","Card","fluid","Meta","extra","Modal","trigger","primary","onClose","closeIcon","icon","Actions","color","ViewBucks","firebaseBuckSet","buckSetsRef","orderByChild","createdBy","el","map","element","BuckSetListItem_BuckSetListItem","pdfMake","vfs","pdfFonts","CreateBucks","validateFormData","asyncToGenerator","regenerator_default","mark","_callee","sum","buckSetName","isTrue","wrap","_context","prev","next","abrupt","equalTo","once","childSnapshot","stop","_x","apply","arguments","handleSubmit","_ref2","_callee2","event","_this$props","doveCount","vyfsCount","lacomunidadCount","vashonhouseholdCount","ids","promise1","promise2","promise3","promise4","_context2","sent","createdOn","String","Date","username","year","validYear","postVoucherData","Year","Promise","all","doesPass","documentDefinition","createPDF","toDataURL","bgImg","dataUrl","background","image","height","JSON","stringify","createPdf","download","complete","toggleShowCreateBucks","_x2","hasError","src","callback","outputFormat","img","Image","crossOrigin","onload","dataURL","canvas","document","ctx","getContext","naturalHeight","naturalWidth","drawImage","pageSize","count","partnerOrg","qr","code","fit","margin","pageBreak","pageMargins","organization","updates","i","voucherData","newVoucherKey","defineProperty","transparent","Number","min","Statistic","widths","Value","Label","FormSuccess","padding-top","padding-right","padding-left","class","BucksLanding","showCreateBucks","newState","_event","CreateBucks_CreateBucks","FormSuccess_FormSuccess","ViewBucks_ViewBucks","Scan","handleScan","userId","isValid","exists","voucherRef","userRef","vizRef","redeemDate","redeemedOn","handedOutOn","invalidScan","handleError","legacyMode","str","test","scanner","lib_default","delay","onError","onScan","FarmerPayout","listenForUpdates","_snapshot","loadPayoutRecords","farmerList","toString","totalBucks","bucksNotPaid","keys","voucher","farmerUid","farm","completePayout","paidUp","TableRow","compact","basic","labelPosition","pointing","Dashboard","chartData","firebaseDataArray","MainView","handleSignOut","signOut","ui","nav","farmerNav","Menu","Item","location","pathname","cworkerNav","adminNav","bookkeeperNav","farmerUI","Route","exact","path","render","Scan_Scan","Dashboard_Dashboard","cworkerUI","adminUI","BucksLanding_BucksLanding","component","bookkeeperUI","FarmerPayout_FarmerPayout","padded","floated","assign","onlyComputer","padding","onlyMobile","secondary","position","backgroundColor","HashRouter","Switch","Barrier","onIdTokenChanged","App","isLocalhost","Boolean","window","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onSuccess","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","ReactDOM","src_App_0","getElementById","URL","process","href","origin","addEventListener","fetch","contentType","headers","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.72ddebf0.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/bucktemplateprintpage.97cf9a86.jpg\";","export default {\n  routes: {\n    barrier: \"/barrier\",\n    createAccount: \"/signup\",\n    accountRecovery: \"/recover\",\n    base: \"/\",\n    dash: {\n      base: \"/dash\",\n      viewData: \"/dash/ViewData\",\n      createBucks: \"/dash/CreateBucks\",\n      bucksLanding: \"/dash/BucksLanding\",\n      viewBucks: \"/dash/ViewBucks\",\n      scan: \"/dash/Scan\",\n      manageAccount: \"/dash/manage\",\n      editAccount: \"/dash/manage/edit\",\n      formSuccess: \"/dash/formSuccess\",\n      farmerPayout: \"/dash/farmerPayout\"\n    }\n  },\n  variables: {\n    colors: {\n      bodyBG: \"#EFF0F3\"\n    }\n  }\n};\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport constants from \"./constants\";\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/database\";\nimport {\n  Message,\n  Form,\n  Button,\n  Icon,\n  Grid,\n  Divider,\n  Responsive\n} from \"semantic-ui-react\";\n\nexport default class LogInActivity extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: \"\",\n      pw: \"\",\n      role: \"\",\n      errorMessage: undefined,\n      loading: false\n    };\n  }\n\n  componentDidMount() {\n    //listen for auth change\n    this.authUnsub = firebase.auth().onAuthStateChanged(user => {\n      if (user) {\n        user.getIdTokenResult().then(idTokenResult => {\n          console.log(idTokenResult.claims.role);\n          if (idTokenResult.claims.role) {\n            //push them on to the dashboard\n            this.props.history.push(constants.routes.dash.base);\n          } else {\n            //push them to the barrier page\n            this.props.history.push(constants.routes.barrier);\n          }\n        });\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    this.authUnsub();\n  }\n\n  handleSignIn(evt) {\n    evt.preventDefault();\n\n    this.setState({\n      loading: true\n    });\n\n    firebase\n      .auth()\n      .signInWithEmailAndPassword(this.state.email, this.state.pw)\n      .catch(err =>\n        this.setState({\n          errorMessage: err.message,\n          loading: false\n        })\n      );\n  }\n\n  handleOnUpdate = (e, { width }) => this.setState({ width });\n\n  render() {\n    const { loading, errorMessage } = this.state;\n    const { width } = this.state;\n    const colWidth = width >= Responsive.onlyTablet.minWidth ? \"6\" : \"12\";\n\n    return (\n      <Responsive\n        as={Grid}\n        fireOnMount\n        onUpdate={this.handleOnUpdate}\n        centered=\"true\"\n        middle\n        columns={1}\n      >\n        <Grid.Column width={colWidth} verticalAlign=\"middle\" textAlign=\"left\">\n          <Message\n            attached=\"top\"\n            header=\"Welcome to our site!\"\n            content=\"Sign in to access your account\"\n          />\n\n          <Form\n            className=\"attached fluid segment\"\n            onSubmit={evt => this.handleSignIn(evt)}\n            error={errorMessage}\n            loading={loading}\n          >\n            <Message error header={errorMessage} content={\"not logged in\"} />\n\n            <Form.Input\n              required\n              id=\"email\"\n              label=\"Email\"\n              placeholder=\"Email\"\n              type=\"email\"\n              value={this.state.email}\n              onInput={evt => this.setState({ email: evt.target.value })}\n            />\n\n            <Form.Input\n              required\n              id=\"pw\"\n              label=\"Password\"\n              placeholder=\"Password\"\n              type=\"password\"\n              value={this.state.pw}\n              onInput={evt => this.setState({ pw: evt.target.value })}\n            />\n\n            <Button type=\"submit\">Sign In</Button>\n            <Divider hidden />\n            <Link to={constants.routes.accountRecovery}>Forgot password?</Link>\n          </Form>\n\n          <Message attached=\"bottom\" info>\n            <Icon name=\"help\" />\n            Don't have an account? &nbsp;\n            <Link to={constants.routes.createAccount}>Sign Up</Link>\n            &nbsp;instead.\n          </Message>\n        </Grid.Column>\n      </Responsive>\n    );\n  }\n}\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport constants from \"./constants\";\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/database\";\nimport { Message, Form, Button, Icon, Grid, Responsive } from \"semantic-ui-react\";\n\nexport default class CreateAccount extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      firstName: \"\",\n      lastName: \"\",\n      role: \"\",\n      org: \"\",\n      email: \"\",\n      pw: \"\",\n      pw_confirm: \"\",\n      errorMessage: undefined\n    };\n  }\n\n  componentDidMount() {\n    //listen for auth change\n    this.authUnsub = firebase.auth().onAuthStateChanged(user => {\n      if (user) {\n        user.getIdTokenResult().then(idTokenResult => {\n          console.log(idTokenResult.claims.role)\n          if(idTokenResult.claims.role) {\n              //push them on to the dashboard\n              this.props.history.push(constants.routes.dash.base);\n          } else {\n              //push them to the barrier page\n              this.props.history.push(constants.routes.barrier);\n          }\n        });\n      }\n    });\n  }\n\n  handleCreateAccount(evt) {\n    evt.preventDefault();\n\n    this.setState({\n      loading: true\n    });\n\n    // handle case for bookkeeper and admin org\n    if(this.state.role.toLowerCase() === 'admin' || this.state.role.toLowerCase() === 'bookkeeper') {\n      this.setState({\n        org: \"fap\"\n      })\n    }\n\n    if (this.state.pw !== this.state.pw_confirm) {\n      this.setState({\n        errorMessage: \"Passwords do not match\",\n        loading: false\n      });\n    } else if (this.state.displayName === \"\") {\n      this.setState({\n        errorMessage: \"Enter Display Name\",\n        loading: false\n      });\n      return;\n    } else if (this.state.pw.length < 6) {\n      this.setState({\n        errorMessage: \"Password must be at least six characters\",\n        loading: false\n      });\n      return;\n    } else {\n      // auth.token.role == 'admin'\n      firebase\n        .auth()\n        .createUserWithEmailAndPassword(this.state.email, this.state.pw)\n        .then(response => {\n          try {\n            this.setState({\n              loading: true,\n              errorMessage: \"\"\n            });\n            console.log('response = ', response)\n            return firebase\n              .database()\n              .ref(`/users/${response.user.uid}`)\n              .set({\n                firstName: this.state.firstName,\n                lastName: this.state.lastName,\n                email: this.state.email,\n                role: this.state.role,\n                org: this.state.org,\n                vouchersList: [], // added on 5/20 to avoid accessing undefined later\n                approved: false  // TODO: Change this?\n              });\n          } catch (err) {\n            console.log('err on write to db = ', err)\n            return this.setState({\n              loading: false,\n              errorMessage: err.message\n            });\n          }\n        })\n        .catch(err => {\n          console.log('err on write to db = ', err)\n          this.setState({\n            loading: false,\n            errorMessage: err.message\n          })\n        }\n      );\n    }\n  }\n\n  handleOnUpdate = (e, { width }) => this.setState({ width })\n\n  render() {\n    const roleOptions = [\n      { key: \"f\", text: \"Farmer\", value: \"Farmer\" },\n      { key: \"c\", text: \"Caseworker\", value: \"Caseworker\" },\n      { key: \"a\", text: \"Admin\", value: \"Admin\" },\n      { key: \"b\", text: \"Bookkeeper\", value: \"Bookkeeper\"}\n    ];\n\n    const orgOptions = [\n      { key: \"f\", text: \"Food Bank\", value: \"Foodbank\" },\n      { key: \"d\", text: \"DoVE\", value: \"dove\" },\n      { key: \"c\", text: \"Vashon Community Care\", value: \"vcc\" },\n      { key: \"s\", text: \"Senior Center\", value: \"seniorcenter\" },\n      {\n        key: \"i\",\n        text: \"Interfaith Council to Prevent Homelessness\",\n        value: \"interfaith\"\n      },\n      { key: \"h\", text: \"Vashon Household\", value: \"vashonhousehold\" },\n      { key: \"l\", text: \"La Comunidad\", value: \"lacomunidad\" },\n      { key: \"y\", text: \"Vashon Youth and Family Services\", value: \"vyfs\" }\n    ];\n\n    const { loading, errorMessage, role } = this.state;\n    const { width } = this.state\n    const colWidth = width >= Responsive.onlyTablet.minWidth ? '6' : '12'\n\n    return (\n      <Responsive as={Grid} fireOnMount onUpdate={this.handleOnUpdate} centered=\"true\" middle columns={1}>\n        <Grid.Column width={colWidth} verticalAlign=\"middle\" textAlign=\"left\">\n          <Message\n            attached\n            header=\"Create an Account\"\n            content=\"Provide some basic information to get started!\"\n          />\n\n          <Form\n            className=\"attached fluid segment\"\n            onSubmit={evt => this.handleCreateAccount(evt)}\n            error={errorMessage}\n            loading={loading}\n          >\n            <Message\n              error\n              header={\"Account not created\"}\n              content={errorMessage}\n            />\n\n            <Form.Input\n              required\n              label=\"First Name\"\n              htmlFor=\"firstName\"\n              id=\"firstName\"\n              type=\"text\"\n              className=\"form-control\"\n              value={this.state.firstName}\n              onInput={evt => this.setState({ firstName: evt.target.value })}\n            />\n\n            <Form.Input\n              required\n              label=\"Last Name\"\n              htmlFor=\"lastName\"\n              id=\"lastName\"\n              type=\"text\"\n              className=\"form-control\"\n              value={this.state.lastName}\n              onInput={evt => this.setState({ lastName: evt.target.value })}\n            />\n\n            <Form.Select\n              required\n              label=\"Role\"\n              htmlFor=\"role\"\n              value={this.state.role}\n              options={roleOptions}\n              onChange={(evt, data) => {\n                  this.setState({ role: data.value })\n                }\n              }\n            />\n\n            {(() => {\n              switch(role) {\n                case 'Caseworker':\n                  return <Form.Select \n                            required \n                            label=\"Affiliated Organization:\" \n                            htmlFor=\"organization\" \n                            value={this.state.org} \n                            options={orgOptions} \n                            onChange={(evt, data) => { \n                                this.setState({ org: data.value }) \n                              }\n                            } \n                          />;\n                case 'Farmer':\n                  return <Form.Input \n                            required\n                            label=\"Farm Name:\" \n                            htmlFor=\"organization\" \n                            value={this.state.org} \n                            onInput={evt => this.setState({ org: evt.target.value })}\n                          />;\n                case 'Admin':\n                  return <Form.Input \n                          label='Affiliated Organization:'\n                          htmlFor=\"organization\"  \n                          value={\"Food Access Partnership\"} \n                          placeholder='Food Access Partnership' \n                          readOnly \n                        />;\n                case 'Bookkeeper':\n                return <Form.Input \n                        label='Affiliated Organization:'\n                        htmlFor=\"organization\"  \n                        value={\"Food Access Partnership\"} \n                        placeholder='Food Access Partnership' \n                        readOnly \n                      />;\n                default:\n                  return <div></div>;\n              }\n            })()}\n\n            <Form.Input\n              required\n              id=\"email\"\n              htmlFor=\"email\"\n              label=\"Email\"\n              type=\"email\"\n              placeholder=\"Enter your email address\"\n              value={this.state.email}\n              onInput={evt => this.setState({ email: evt.target.value })}\n            />\n\n            <Form.Input\n              required\n              id=\"pw\"\n              htmlFor=\"password\"\n              label=\"Password\"\n              type=\"password\"\n              placeholder=\"Enter your password\"\n              value={this.state.pw}\n              onInput={evt => this.setState({ pw: evt.target.value })}\n            />\n\n            <Form.Input\n              required\n              id=\"pw_confrim\"\n              htmlFor=\"passwordConfirm\"\n              label=\"Reenter Password\"\n              type=\"password\"\n              placeholder=\"confirm your password\"\n              value={this.state.pw_confirm}\n              onInput={evt => this.setState({ pw_confirm: evt.target.value })}\n            />\n\n            <Button type=\"submit\">Create Account</Button>\n            \n          </Form>\n          <Message attached=\"bottom\" info>\n            <Icon name=\"help\" />\n            Already have an account? &nbsp;\n            <Link to={constants.routes.base}>Sign in!</Link>&nbsp;\n          </Message>\n        </Grid.Column>\n      </Responsive>\n    );\n  }\n}\n","import React from \"react\";\nimport firebase from 'firebase/app'\nimport { Form, Button, Grid, Responsive, Message } from 'semantic-ui-react';\nimport \"firebase/auth\";\nimport \"firebase/database\";\n\nexport default class AccountRecovery extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: \"\",\n      errorMessage: false,\n      successMessage: undefined\n    };\n  }\n\n  componentDidMount() {\n    this.authUnsub = firebase.auth().onAuthStateChanged(user => {\n      this.setState({\n        currentUser: user\n      });\n    });\n  }\n\n  componentWillUnmount() {\n    this.authUnsub();\n  }\n\n  handlePasswordReset(evt) {\n    let auth = firebase.auth();\n    this.setState({ errorMessage: undefined });\n    auth\n      .sendPasswordResetEmail(this.state.email)\n      .then( this.setState({\n        successMessage: true,\n        email: \"\"\n      }) )\n      .catch(err => this.setState({\n        errorMessage: err.message \n      }));\n  }\n\n  handleOnUpdate = (e, { width }) => this.setState({ width })\n\n    render() {\n      const { width, successMessage, email } = this.state\n      const colWidth = width >= Responsive.onlyTablet.minWidth ? '6' : '12'\n\n      return (\n        <Responsive as={Grid} fireOnMount onUpdate={this.handleOnUpdate} centered=\"true\" middle columns={1}>\n          <Grid.Column width={colWidth} verticalAlign=\"middle\" textAlign=\"left\">\n            \n            <Message\n              attached='top'\n              header=\"Account Recovery\"\n              content=\"Enter your account email to reset your password.\"\n            />\n            \n            <Form \n              className=\"attached fluid segment\"\n              onSubmit={evt => this.handlePasswordReset(evt)}\n              warning={successMessage}>\n                \n                <Form.Input\n                  required\n                  id=\"email\"\n                  label='Email'\n                  type=\"email\"\n                  placeholder=\"Enter your email address\"\n                  value={this.state.email}\n                  onInput={evt => this.setState({ email: evt.target.value })}\n                />\n\n                <Button type=\"submit\" content='Reset'/>\n\n                <Message\n                  warning\n                  header={\"Thank you\"}\n                  content={\"If that account exists in our system, password reset steps will be sent\"}\n                />\n\n            </Form>\n          </Grid.Column>\n        </Responsive>\n        )\n    }\n}\n","import React from \"react\";\nimport firebase from \"firebase\";\nimport { Table, Icon, Header, Button } from \"semantic-ui-react\";\n\nexport default class Account extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      role: \"\"\n    };\n  }\n\n  handlePurge() {\n    var deleteUser = firebase.functions().httpsCallable(\"deleteUser\");\n    deleteUser({ email: this.props.acctSnapshot.val().email }).then(result => {\n      console.log(result);\n    });\n    this.props.acctRef.child(this.props.acctSnapshot.key).remove();\n  }\n\n  handleApprove() {\n    let acct = this.props.acctSnapshot.val();\n    this.props.acctRef.child(this.props.acctSnapshot.key).update({\n      approved: true\n    });\n    var changeRole = firebase.functions().httpsCallable(\"changeRole\");\n    changeRole({\n      email: acct.email,\n      role: acct.role\n    }).then(result => {\n      console.log(result);\n    });\n  }\n\n  render() {\n    // let user = firebase.auth().currentUser;\n    let acct = this.props.acctSnapshot.val();\n    let appEl;\n\n    if (acct.approved) {\n      appEl = (\n        <Table.Cell>\n          <Icon name=\"checkmark\" />\n          Approved\n        </Table.Cell>\n      );\n    } else {\n      appEl = (\n        <Table.Cell>\n          <Icon name=\"attention\" />\n          Requires Approval\n        </Table.Cell>\n      );\n    }\n\n\n    return (\n      <Table.Row warning={!acct.approved}>\n        <Table.Cell>\n          \n        <Header as='h4'>\n          <Header.Content>\n            {acct.firstName} {acct.lastName}\n            <Header.Subheader>{acct.org}</Header.Subheader>\n          </Header.Content>\n        </Header>\n        </Table.Cell>\n        <Table.Cell>{acct.role}</Table.Cell>\n        <Table.Cell>{acct.email}</Table.Cell>\n        {appEl}\n        <Table.Cell textAlign=\"center\">\n          {acct.approved ? null : (\n            <Button.Group>\n              <Button size='mini' positive content=\"Approve\" onClick={() => this.handleApprove()}/>\n              <Button size='mini' content=\"Reject\" onClick={() => this.handlePurge()}/>\n            </Button.Group>\n          )}\n          {\n          }\n        </Table.Cell>\n        <Table.Cell textAlign='center'>\n          <Icon\n              name=\"delete\"\n              className=\"delete\"\n              size=\"large\"\n              onClick={() => this.handlePurge()}\n            />\n        </Table.Cell>\n      </Table.Row>\n    );\n  }\n}\n","import React from \"react\";\nimport Account from \"./Account\";\nimport { Table, Segment, Loader, Dimmer, Container } from \"semantic-ui-react\";\n\nexport default class AccountList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      accountSnapshot: undefined\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.props.accountRef.off(\"value\", this.unlisten);\n    this.unlisten = nextProps.accountRef.on(\"value\", snapshot =>\n      this.setState({\n        accountSnapshot: snapshot\n      })\n    );\n  }\n\n  componentDidMount() {\n    this.unlisten = this.props.accountRef.on(\"value\", snapshot =>\n      this.setState({ accountSnapshot: snapshot })\n    );\n  }\n\n  componentWillUnmount() {\n    this.props.accountRef.off(\"value\", this.unlisten);\n  }\n\n  render() {\n    if (!this.state.accountSnapshot) {\n      return   <div>\n                <Segment>\n                  <Dimmer active inverted>\n                    <Loader indeterminate>Loading Accounts</Loader>\n                  </Dimmer>\n                </Segment>\n                </div>\n    }\n\n    let accts = [];\n    this.state.accountSnapshot.forEach(acctSnapshot => {\n      if (this.props.user.email !== acctSnapshot.val().email) {\n        accts.push(\n          <Account\n            key={acctSnapshot.key}\n            acctSnapshot={acctSnapshot}\n            acctRef={this.props.accountRef}\n          />\n        );\n      }\n    });\n\n    return (\n      <Container>\n      <Table singleLine stackable selectable> \n        <Table.Header>\n          <Table.Row>\n            <Table.HeaderCell>Name</Table.HeaderCell>\n            <Table.HeaderCell>Role</Table.HeaderCell>\n            <Table.HeaderCell>Email</Table.HeaderCell>\n            <Table.HeaderCell>Approval Status</Table.HeaderCell>\n            <Table.HeaderCell textAlign='center'>Actions</Table.HeaderCell>\n            <Table.HeaderCell textAlign='center'>Delete Account</Table.HeaderCell>\n          </Table.Row>\n        </Table.Header>\n        <Table.Body>{accts}</Table.Body>\n      </Table>\n      </Container>\n    )\n  }\n}\n","import React from \"react\";\nimport constants from \"./constants\";\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/database\";\nimport AccountList from \"./AccountList\";\nimport { Container, Segment } from \"semantic-ui-react\";\n\nexport default class ManageAccount extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: \"\",\n      filter: \"\",\n      name: \"\",\n      org: \"\",\n      role: \"\",\n      date_added: \"\",\n      errorMessage: undefined\n    };\n\n    this.handleChange = this.handleChange.bind(this);\n  }\n  componentDidMount() {\n    this.authUnsub = firebase.auth().onAuthStateChanged(user => {\n      this.setState({\n        currentUser: user\n      });\n      if (this.state.currentUser === null) {\n        this.props.history.push(constants.routes.base);\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    this.authUnsub();\n  }\n\n  handleChange(evt) {\n    this.setState({ value: evt.target.value });\n  }\n\n  render() {\n    let accountRef = firebase.database().ref(\"/users/\");\n\n    return (\n      <Container>\n        <Segment\n          style={{\n            paddingTop: \"30px\",\n            paddingRight: \"40px\",\n            paddingLeft: \"40px\"\n          }}\n          raised\n        >\n          <Container>\n            <AccountList\n              user={this.state.currentUser}\n              accountRef={accountRef}\n            />\n          </Container>\n        </Segment>\n      </Container>\n    );\n  }\n}\n","import React from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport constants from \"./constants\";\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/database\";\n// import Plot from \"react-plotly.js\";\n\nexport default class EditAccount extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: \"\",\n      org: \"\",\n      role: \"\",\n      date_added: \"\",\n      errorMessage: undefined\n    };\n  }\n\n  handleEditAccount(evt) {\n    this.setState({ name: evt.target.value });\n    this.setState({ role: evt.target.value });\n    this.setState({ org: evt.target.value });\n    this.setState({ email: evt.target.value });\n  }\n\n  render() {\n    return (\n      <div>\n        <h1>\n          Edit <i>name</i> Account\n        </h1>\n        <form onSubmit={evt => this.handleCreateAccount(evt)}>\n          <div className=\"form-group\">\n            <div className=\"row\">\n              <div className=\"col-md-4 mx-auto\">\n                <label htmlFor=\"name\">Name: </label>\n                <input\n                  id=\"name\"\n                  type=\"text\"\n                  className=\"form-control\"\n                  value={this.state.firstName}\n                  placeholder=\"<curr name>\"\n                  onInput={evt =>\n                    this.setState({ firstName: evt.target.value })\n                  }\n                />\n              </div>\n            </div>\n          </div>\n          <div className=\"form-group\">\n            <div className=\"row\">\n              <div className=\"col-md-4 mx-auto\">\n                <label htmlFor=\"role\">Role: </label>\n                <input\n                  id=\"role\"\n                  type=\"select\"\n                  className=\"form-control\"\n                  value={this.state.role}\n                  placeholder=\"<curr role>\"\n                  onInput={evt => this.setState({ role: evt.target.value })}\n                />\n              </div>\n            </div>\n          </div>\n          <div className=\"form-group\">\n            <div className=\"row\">\n              <div className=\"col-md-4 mx-auto\">\n                <label htmlFor=\"org\">Affiliated Organization: </label>\n                <input\n                  id=\"org\"\n                  type=\"text\"\n                  className=\"form-control\"\n                  placeholder=\"<curr org>\"\n                  value={this.state.org}\n                  onInput={evt => this.setState({ org: evt.target.value })}\n                />\n              </div>\n            </div>\n          </div>\n          <div className=\"form-group\">\n            <div className=\"row\">\n              <div className=\"col-md-4 mx-auto\">\n                <label htmlFor=\"email\">Email: </label>\n                <input\n                  id=\"email\"\n                  type=\"email\"\n                  className=\"form-control\"\n                  placeholder=\"<curr email>\"\n                  value={this.state.email}\n                  onInput={evt => this.setState({ email: evt.target.value })}\n                />\n              </div>\n            </div>\n          </div>\n          <div className=\"form-group\">\n            <button type=\"submit\" className=\"btn btn-default\">\n              Save Changes\n            </button>\n          </div>\n        </form>\n\n        {/* <Plot\n          data={[\n            {\n              x: [\n                \"February\",\n                \"March\",\n                \"April\",\n                \"May\",\n                \"June\",\n                \"July\",\n                \"August\",\n                \"September\"\n              ],\n              y: [0.63, 0.29, 0.79, 0.84, 0.65, 0.45, 0.81, 0.5],\n              type: \"bar\",\n              name: \"Market\"\n            },\n            {\n              x: [\n                \"February\",\n                \"March\",\n                \"April\",\n                \"May\",\n                \"June\",\n                \"July\",\n                \"August\",\n                \"September\"\n              ],\n              y: [0.75, 0.73, 0.96, 0.99, 0.47, 0.64, 0.69, 0.72],\n              type: \"bar\",\n              name: \"Stand\"\n            },\n            {\n              x: [\n                \"February\",\n                \"March\",\n                \"April\",\n                \"May\",\n                \"June\",\n                \"July\",\n                \"August\",\n                \"September\"\n              ],\n              y: [0.802, 0.46, 0.71, 0.98, 0.685, 0.567, 0.988, 0],\n              type: \"bar\",\n              name: \"Other\"\n            }\n          ]}\n          layout={{\n            title: \"Robs Redemption This Season\",\n            barmode: \"group\",\n            yaxis: { title: \"Percent\" },\n            xaxis: { title: \"Month\" }\n          }}\n        /> */}\n        <p>\n          {\" \"}\n          <Link to={constants.routes.dash.manageAccount}>\n            {\" \"}\n            Back to Manage{\" \"}\n          </Link>{\" \"}\n        </p>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { Button, Card, Modal } from 'semantic-ui-react';\nimport firebase from 'firebase/app';\n\nexport default class BuckSetListItem extends React.Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            viewModalOpen: false,\n            deleteModalOpen: false\n        }\n    }\n\n    showView = () => this.setState({ viewModalOpen: true })\n\n    showDelete = () => this.setState({ deleteModalOpen: true })\n\n    close = () => this.setState({ deleteModalOpen: false, viewModalOpen: false })\n\n    deleteBuckSet = () => {\n        let key = this.props.data.title\n        //TODO: make if(!key) {...} and throw an error \n        if(key != '') {\n            let buckSetRef = firebase.database().ref('buckSets/' + key)\n            buckSetRef.remove()\n            .then(() =>{\n                console.log(\"Remove succeeded.\")\n                this.setState({\n                    deleteModalOpen: false\n                })\n            })\n            .catch((error) => {\n                console.log(\"Remove failed: \" + error.message)\n            });\n        }\n    }\n\n    viewBuckSet = () => {\n    }\n\n    render () { \n        const { title, subtitle } = this.props.data\n        const { open } = this.state\n\n        return(\n                <Card fluid>\n                    <Card.Content>\n                        <Card.Header>{title}</Card.Header>\n                        <Card.Meta>{subtitle}</Card.Meta>\n                    </Card.Content>\n\n                    <Card.Content extra>\n                        <Modal trigger={<Button primary content='View'/>}\n                            size=\"small\" \n                            open={this.viewModalOpen} \n                            onClose={this.close} \n                            closeIcon >\n                            <Modal.Header>\"{title}\" Buck Set</Modal.Header>\n                            <Modal.Content>\n                                <p>Created by {subtitle}</p>\n                                <p>More information about the selected buck set</p>\n                            </Modal.Content>\n                        </Modal>\n\n                        <Modal trigger={<Button icon='trash'/>} \n                                size=\"mini\" \n                                open={this.deleteModalOpen} \n                                onClose={this.close}\n                                closeIcon >\n                            <Modal.Header>Are you sure you want to delete \"{title}\" Buck Set?</Modal.Header>\n                            <Modal.Content>\n                                <p>Doing so will mark all VIGA bucks generated for this set as inactive</p>\n                            </Modal.Content>\n                            <Modal.Actions>\n                                <Button color=\"red\" onClick={() => this.deleteBuckSet()}  content='Delete' />\n                            </Modal.Actions>\n                        </Modal>\n                    </Card.Content>\n                </Card>\n        )\n    }\n}\n","import React from \"react\";\nimport BuckSetListItem from \"./BuckSetListItem.jsx\";\nimport { Header, Container, Grid, Card } from \"semantic-ui-react\";\nimport firebase from \"firebase/app\";\n\nexport default class ViewBucks extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      firebaseBuckSet: []\n    };\n  }\n\n\n    componentDidMount() {\n        let firebaseBuckSet = []\n\n        let buckSetsRef = firebase.database().ref('buckSets')\n        buckSetsRef.orderByChild('createdOn').on('child_added', (snapshot) => {\n            const value = snapshot.val()\n            // sort by newest\n            firebaseBuckSet.push({\n                title: value.name,\n                subtitle: value.createdBy\n            })\n            this.setState({\n                firebaseBuckSet\n            })\n        });\n        buckSetsRef.orderByChild('createdOn').on('child_removed', (snapshot) => {\n            const value = snapshot.val()\n            // filter out the removed item and force another render\n            firebaseBuckSet = firebaseBuckSet.filter(el => !(el.title === value.name && el.subtitle === value.createdBy))\n            this.setState({\n                firebaseBuckSet\n            })\n        });\n\n    }\n\n    render () {\n            return (\n            <Grid.Column width={6}>\n                <Container>\n                <Header as='h2'>Existing Buck Sets</Header>\n                <Card.Group>\n                    {\n                        //for each item in the data provided, map will create a BuckSetListItem\n                        //that has the respective title and subtitle\n                        this.state.firebaseBuckSet.map(\n                            (element) => {\n                                return (\n                                    <BuckSetListItem key={element.title + element.subtitle} data={element}/>\n                                )\n                            }\n                        )\n                    }\n                </Card.Group>\n                </Container>\n            </Grid.Column>\n        )\n    }\n}\n","import React from \"react\";\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/functions\";\nimport \"firebase/database\";\nimport {\n  Statistic,\n  Header,\n  Button,\n  Divider,\n  Grid,\n  Form,\n  Message,\n  Segment\n} from \"semantic-ui-react\";\nimport axios from \"axios\";\nimport bgImg from \"../bucktemplateprintpage.jpg\";\nimport pdfMake from \"pdfmake/build/pdfmake\";\nimport pdfFonts from \"pdfmake/build/vfs_fonts\";\npdfMake.vfs = pdfFonts.pdfMake.vfs;\n\nexport default class CreateBucks extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: false,\n      complete: false,\n      hasError: false,\n      errorMessage: \"\"\n    };\n  }\n\n  toDataURL(src, callback, outputFormat) {\n    var img = new Image();\n    img.crossOrigin = \"Anonymous\";\n    img.onload = function() {\n      var canvas = document.createElement(\"CANVAS\");\n      var ctx = canvas.getContext(\"2d\");\n      var dataURL;\n      canvas.height = this.naturalHeight;\n      canvas.width = this.naturalWidth;\n      ctx.drawImage(this, 0, 0);\n      dataURL = canvas.toDataURL(outputFormat);\n      callback(dataURL);\n    };\n    img.src = src;\n    if (img.complete || img.complete === undefined) {\n      img.src =\n        \"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==\";\n      img.src = src;\n    }\n  }\n\n  createPDF(data) {\n    let ids = data.ids;\n    let year = data.year;\n\n    var documentDefinition = {\n      content: []\n    };\n\n    documentDefinition.content.pageSize = \"LETTER\";\n\n    // PDF VARIABLES(in mm):\n\n    var count = 1;\n\n    ids.forEach(id => {\n      console.log(id);\n      let pOrg = id.partnerOrg;\n      let code = id.id;\n      let qr;\n      if (count % 4 == 0 && count !== ids.length) {\n        qr = {\n          qr: code,\n          fit: 50,\n          margin: [381, 0, 0, 137],\n          pageBreak: \"after\"\n        };\n      } else if (count % 4 == 1) {\n        qr = { qr: code, fit: 50, margin: [381, 51, 0, 137] };\n      } else {\n        qr = { qr: code, fit: 50, margin: [381, 0, 0, 137] };\n      }\n      console.log(JSON.stringify(qr));\n      documentDefinition.content.push(qr);\n      count++;\n    });\n\n    documentDefinition.pageMargins = [0, 0, 0, 0];\n\n    return documentDefinition;\n  }\n\n  // takes organization name, voucher count, and a list of ids and saves them in the Firebase Realtime database\n  postVoucherData(organization, count, ids) {\n    let updates = {};\n\n    for (let i = 0; i < count; i++) {\n      let voucherData = {\n        organization,\n        createdOn: new String(new Date()),\n        year: this.props.validYear\n      };\n\n      let newVoucherKey = firebase\n        .database()\n        .ref()\n        .child(\"vouchers\")\n        .push().key;\n      ids.push({ partnerOrg: organization, id: newVoucherKey });\n\n      firebase\n        .database()\n        .ref()\n        .child(\"vis2/\" + organization + \"/created/\")\n        .update({\n          [newVoucherKey]: new Date()\n        });\n\n      updates[\"/vouchers/\" + newVoucherKey] = voucherData;\n    }\n\n    return firebase\n      .database()\n      .ref()\n      .update(updates);\n  }\n\n  // return true if validated form data is acceptable, false otherwise\n  validateFormData = async sum => {\n    if (sum <= 0) {\n      this.setState({\n        errorMessage: \"Sum of vouchers in form must be greater than zero.\"\n      });\n      return false;\n    }\n\n    const { buckSetName } = this.props;\n    let buckSetsRef = firebase.database().ref(\"buckSets\");\n\n    let isTrue = true;\n    // await the results from firebase, once because this should be done only once the function\n    // fires\n    await buckSetsRef\n      .orderByChild(\"name\")\n      .equalTo(buckSetName)\n      .once(\"value\", snapshot => {\n        snapshot.forEach(childSnapshot => {\n          let key = childSnapshot.key;\n          let childData = childSnapshot.val();\n          if (childData.name == buckSetName) {\n            this.setState({\n              errorMessage: \"The buck set name you used already exists.\"\n            });\n            isTrue = false;\n          }\n        });\n      });\n    return isTrue;\n  };\n\n  // On submit of the Create Voucher form the function saves given data to\n  // Firebase and calls postData to Google Cloud Function to generate pdf\n  handleSubmit = async event => {\n    event.preventDefault();\n    const {\n      doveCount,\n      vyfsCount,\n      lacomunidadCount,\n      vashonhouseholdCount\n    } = this.props;\n\n    this.setState({\n      loading: true\n    });\n\n    let sum = doveCount + vyfsCount + lacomunidadCount + vashonhouseholdCount;\n    // await to do a lookup in firebase if the name they're using has been used already\n    let isValid = await this.validateFormData(sum);\n    if (!isValid) {\n      this.setState({\n        loading: false\n      });\n      return;\n    } else {\n      this.setState({\n        errorMessage: \"\"\n      });\n    }\n\n    // Add the new buck set to the list of buckSets in Firebase\n    const promiseFromFirebase = firebase\n      .database()\n      .ref()\n      .child(\"buckSets/\" + this.props.buckSetName)\n      .update({\n        name: this.props.buckSetName,\n        createdOn: new String(new Date()),\n        createdBy: this.props.username,\n        year: this.props.validYear,\n        doveCount: this.props.doveCount,\n        vyfsCount: this.props.vyfsCount,\n        lacomunidadCount: this.props.lacomunidadCount,\n        vashonhouseholdCount: this.props.vashonhouseholdCount\n      });\n\n    promiseFromFirebase\n      .then(data => {\n        console.log(\"Buckset upload passed\");\n      })\n      .catch(err => {\n        console.log(\"Buckset upload failed with: \", err);\n      });\n\n    //post the data, wait on each one to resolve\n    let ids = [];\n    let promise1 = this.postVoucherData(\"dove\", doveCount, ids);\n    let promise2 = this.postVoucherData(\"vyfs\", vyfsCount, ids);\n    let promise3 = this.postVoucherData(\"lacomunidad\", lacomunidadCount, ids);\n    let promise4 = this.postVoucherData(\n      \"vashonhousehold\",\n      vashonhouseholdCount,\n      ids\n    );\n\n    // prepare data for post to Google Cloud Function\n    let data = {\n      Year: this.props.validYear,\n      ids\n    };\n\n    // Call Google Cloud Function to generate PDF of vouchers\n    Promise.all([promise1, promise2, promise3, promise4])\n      .then(doesPass => {\n        let documentDefinition = this.createPDF(data);\n        this.toDataURL(bgImg, dataUrl => {\n          documentDefinition.background = [\n            {\n              image: dataUrl,\n              width: 612.0,\n              height: 792.0\n            }\n          ];\n          console.log(JSON.stringify(documentDefinition));\n          pdfMake\n            .createPdf(documentDefinition)\n            .download(this.props.buckSetName + \".pdf\", () => {\n              this.setState({\n                complete: true,\n                loading: false,\n                errorMessage: \"\"\n              });\n              const { toggleShowCreateBucks } = this.props;\n              toggleShowCreateBucks();\n            });\n        });\n      })\n      .catch(err => {\n        console.log(\"Error on firebase request\", err);\n        this.setState({\n          errorMessage: \"Error on firebase request\"\n        });\n      });\n    console.log(\"firebase.functions() = \", firebase.functions());\n  };\n\n  render() {\n    const { loading, errorMessage } = this.state;\n    let sum =\n      this.props.doveCount +\n      this.props.vyfsCount +\n      this.props.lacomunidadCount +\n      this.props.vashonhouseholdCount;\n\n    return (\n      <Grid.Column width={10}>\n        {/* <div class=\"ui raised very padded container segment\"> */}\n\n        <Segment\n          raised\n          // style={{\n          // \"padding-top\": \"30px\",\n          // \"padding-right\": \"40px\",\n          // \"padding-left\": \"40px\"\n          // }}\n        >\n          <Form\n            onSubmit={this.handleSubmit}\n            loading={loading}\n            error={errorMessage}\n          >\n            <Form.Input\n              required\n              fluid\n              transparent\n              size=\"huge\"\n              placeholder=\"Buck Set Name\"\n              value={this.props.buckSetName}\n              onInput={evt =>\n                this.props.handleChange({ buckSetName: evt.target.value })\n              }\n            />\n\n            <Header as=\"h5\" color=\"grey\" textAlign=\"left\">\n              BUCK ALLOCATION\n            </Header>\n\n            <Form.Input\n              required\n              fluid\n              label=\"Expiration Date\"\n              placeholder=\"ie: 2018\"\n              type=\"date\"\n              value={this.props.validYear}\n              onInput={evt =>\n                this.props.handleChange({ validYear: evt.target.value })\n              }\n            />\n\n            <Form.Input\n              fluid\n              label=\"VYFS\"\n              placeholder={0}\n              type=\"number\"\n              onInput={evt =>\n                this.props.handleChange({ vyfsCount: Number(evt.target.value) })\n              }\n              min={0}\n            />\n\n            <Form.Input\n              fluid\n              label=\"La Communidad\"\n              placeholder={0}\n              type=\"number\"\n              onInput={evt =>\n                this.props.handleChange({\n                  lacomunidadCount: Number(evt.target.value)\n                })\n              }\n              min={0}\n            />\n\n            <Form.Input\n              fluid\n              label=\"Vashon Household\"\n              placeholder={0}\n              type=\"number\"\n              onInput={evt =>\n                this.props.handleChange({\n                  vashonhouseholdCount: Number(evt.target.value)\n                })\n              }\n              min={0}\n            />\n\n            <Divider hidden />\n\n            <Statistic.Group widths=\"two\">\n              <Statistic>\n                <Statistic.Value>{sum * 1}</Statistic.Value>\n                <Statistic.Label>VIGA Bucks</Statistic.Label>\n              </Statistic>\n              <Statistic>\n                <Statistic.Value>${2 * sum}.00</Statistic.Value>\n                <Statistic.Label>Dollars</Statistic.Label>\n              </Statistic>\n            </Statistic.Group>\n\n            <Divider hidden />\n\n            {<Button color=\"blue\">Generate Set</Button>}\n\n            <Message\n              error\n              header={errorMessage}\n              content={\"form not submitted\"}\n            />\n          </Form>\n        </Segment>\n      </Grid.Column>\n    );\n  }\n}\n","import React from \"react\";\nimport \"firebase/auth\";\nimport \"firebase/functions\";\nimport \"firebase/database\";\nimport constants from \"./constants\";\nimport { Link } from \"react-router-dom\";\nimport {\n  Statistic,\n  Header,\n  Divider,\n  Button,\n  Grid,\n  Segment\n} from \"semantic-ui-react\";\n\nexport default class FormSuccess extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  render() {\n    //const { toggleShowCreateBucks } = this.props\n    let sum =\n      this.props.doveCount +\n      this.props.vyfsCount +\n      this.props.lacomunidadCount +\n      this.props.vashonhouseholdCount;\n\n    return (\n      <Grid.Column width={10}>\n        <Segment\n          raised\n          style={{\n            \"padding-top\": \"30px\",\n            \"padding-right\": \"40px\",\n            \"padding-left\": \"40px\"\n          }}\n        >\n          <Header as=\"h1\" textAlign=\"left\">\n            Success!\n            <Header.Subheader>\n              \"{this.props.buckSetName}\" Buck Set Created\n            </Header.Subheader>\n          </Header>\n          <Header as=\"h5\" color=\"grey\" textAlign=\"left\">\n            BUCK ALLOCATION\n          </Header>\n          <table class=\"ui very basic table\">\n            <tbody>\n              <tr>\n                <td>Dove</td>\n                <td>{this.props.doveCount} bucks</td>\n                <td>${this.props.doveCount * 2}.00</td>\n              </tr>\n              <tr>\n                <td>VYFS: LatinX</td>\n                <td>{this.props.vyfsCount} bucks</td>\n                <td>${this.props.vyfsCount * 2}.00</td>\n              </tr>\n              <tr>\n                <td>La Comunidad</td>\n                <td>{this.props.lacomunidadCount} bucks</td>\n                <td>${this.props.lacomunidadCount * 2}.00</td>\n              </tr>\n              <tr>\n                <td>Vashon Household</td>\n                <td>{this.props.vashonhouseholdCount} bucks</td>\n                <td>${this.props.vashonhouseholdCount * 2}.00</td>\n              </tr>\n            </tbody>\n          </table>\n\n          <Header as=\"h5\" color=\"grey\" textAlign=\"left\">\n            EXPIRATION DATE\n          </Header>\n          <p>{this.props.validYear}</p>\n\n          <Divider hidden />\n\n          <Statistic.Group widths=\"two\">\n            <Statistic>\n              <Statistic.Value>{sum * 1}</Statistic.Value>\n              <Statistic.Label>VIGA Bucks</Statistic.Label>\n            </Statistic>\n            <Statistic>\n              <Statistic.Value>${2 * sum}.00</Statistic.Value>\n              <Statistic.Label>Dollars</Statistic.Label>\n            </Statistic>\n          </Statistic.Group>\n\n          <Divider hidden />\n\n          <Button content=\"Create New Buck Set\" />\n        </Segment>\n      </Grid.Column>\n    );\n  }\n}\n","import React from \"react\";\nimport ViewBucks from \"./ViewBucks\";\nimport CreateBucks from \"./CreateBucks\";\nimport { Grid, Container } from \"semantic-ui-react\";\nimport FormSuccess from \"./FormSuccess\";\n\nexport default class BucksLanding extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showCreateBucks: true,\n      buckSetName: \"\",\n      doveCount: 0,\n      vyfsCount: 0,\n      lacomunidadCount: 0,\n      vashonhouseholdCount: 0,\n      validYear: \"\"\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.toggleShowCreateBucks = this.toggleShowCreateBucks.bind(this);\n  }\n\n  handleChange(newState) {\n    this.setState(newState);\n  }\n\n  toggleShowCreateBucks(_event) {\n    this.setState({\n      showCreateBucks: !this.state.showCreateBucks\n    });\n  }\n\n    toggleShowCreateBucks (_event) {\n        this.setState({\n            showCreateBucks: !this.state.showCreateBucks\n        })\n    }\n\n    render() {\n        return (\n            <Container>\n                <Grid stackable centered>\n                <Grid.Row>\n                    {\n                        this.state.showCreateBucks ?\n                            <CreateBucks \n                                toggleShowCreateBucks={this.toggleShowCreateBucks}\n                                handleChange={this.handleChange}\n                                buckSetName={this.state.buckSetName}\n                                username={this.props.username}\n                                doveCount={this.state.doveCount}\n                                vyfsCount={this.state.vyfsCount}\n                                lacomunidadCount={this.state.lacomunidadCount}\n                                vashonhouseholdCount={this.state.vashonhouseholdCount}\n                                validYear={this.state.validYear}\n                            />\n                            : \n                            <FormSuccess \n                                toggleShowCreateBucks={this.toggleShowCreateBucks}\n                                buckSetName={this.state.buckSetName}\n                                doveCount={this.state.doveCount}\n                                vyfsCount={this.state.vyfsCount}\n                                lacomunidadCount={this.state.lacomunidadCount}\n                                vashonhouseholdCount={this.state.vashonhouseholdCount}\n                                validYear={this.state.validYear}\n                            />\n                    }\n                    <ViewBucks/>\n                </Grid.Row>\n                </Grid>\n            </Container>\n        )\n    }\n\n}\n","import React from \"react\";\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/database\";\nimport QrReader from \"react-qr-reader\";\nimport { Container, Segment, Message } from \"semantic-ui-react\";\nexport default class Scan extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      result: \"No result\",\n      legacyMode: false,\n      invalidScan: false\n    };\n  }\n\n  isValid(str) {\n    return /[^.#$[\\]]/.test(str);\n  }\n\n  handleScan = data => {\n    console.log(this.props.userId);\n\n    if (data) {\n      // TODO: fill in the corresponding data visualization object with a new scan\n      console.log(data);\n      if (this.isValid(data)) {\n        firebase\n          .database()\n          .ref(\"vouchers/\")\n          .child(data)\n          .once(\"value\", snapshot => {\n            if (snapshot.exists()) {\n              console.log(\"This ID exists.\");\n              console.log(this.props.userId);\n              let voucherRef = firebase.database().ref(\"vouchers/\" + data);\n\n              let userRef = firebase\n                .database()\n                .ref(\"users/\" + this.props.userId);\n\n              let vizRef = firebase\n                .database()\n                .ref()\n                .child(\"vis1/\" + this.props.userId);\n\n              var redeemDate = new Date();\n\n              console.log(\n                \"this is the uid passed from props\",\n                this.props.userId\n              );\n              console.log(\n                \"this is the role passed from props\",\n                this.props.role\n              );\n\n              // TODO: THIS IS CASE SENSITIVE\n              if (this.props.role === \"farmer\") {\n                // TODO: fill in the corresponding data visualization object with a new scan\n                console.log(\"I am in the farmer scan section\");\n                // if they are a farmer, fill in the \"redeemedOn\" field on voucher object to the current time\n                let redeemedOnRef = firebase\n                  .database()\n                  .ref(\"vouchers/\" + data + \"/redeemedOn\");\n\n                redeemedOnRef.on(\"value\", function(snapshot) {\n                  console.log(\"snapshot.val() : \", snapshot.val());\n                  if (!snapshot.val()) {\n                    //if it is null there is no entry for redeemedOn\n                    console.log(\"this voucher has not been redeemed before\");\n                    voucherRef.update({\n                      redeemedOn: redeemDate\n                    });\n                  } else {\n                    console.log(\"this voucher has already been redeemed\");\n                  }\n                });\n\n                // also add the voucher id to the user's list of associated ids\n                userRef.child(\"vouchersList\").update({\n                  [data]: \"notPaid\"\n                });\n\n                // add to vis1 list (MAYBE CHANGE LATER????)\n                vizRef.update({\n                  [data]: redeemDate\n                });\n\n                // add to vis2 list (MAYBE CHANGE LATER????)\n                firebase\n                  .database()\n                  .ref(\"vouchers/\" + data)\n                  .once(\"value\")\n                  .then(function(snapshot) {\n                    var org = snapshot.val().organization;\n                    firebase\n                      .database()\n                      .ref()\n                      .child(\"vis2/\" + org + \"/redeemed/\")\n                      .update({\n                        [data]: redeemDate\n                      });\n                  });\n              } else if (this.props.role === \"caseworker\") {\n                // TODO: fill in the corresponding data visualization object with a new scan\n\n                // if they are a caseworker, fill in the \"handedOutOn\" field on voucher object to the current time\n                let handedOutRef = firebase\n                  .database()\n                  .ref(\"vouchers/\" + data + \"/handedOutOn\");\n                handedOutRef.on(\"value\", function(snapshot) {\n                  if (!snapshot.val()) {\n                    //if it is null there is no entry for handedOutOn\n                    console.log(\"this voucher has not been handed out before\");\n                    voucherRef.update({\n                      handedOutOn: new Date()\n                    });\n                  } else {\n                    console.log(\"this voucher has already been handed out\");\n                  }\n                });\n\n                firebase\n                  .database()\n                  .ref(\"vouchers/\" + data)\n                  .once(\"value\")\n                  .then(function(snapshot) {\n                    var org = snapshot.val().organization;\n                    firebase\n                      .database()\n                      .ref()\n                      .child(\"vis2/\" + org + \"/handedOut/\")\n                      .update({\n                        [data]: redeemDate\n                      });\n                  });\n\n                // TODO: Do we want to keep this as true?\n                // also add the voucher id to the user's list of associated ids\n                userRef.child(\"vouchersList\").update({\n                  [data]: \"true\"\n                });\n              } else {\n                // not caseworker or farmer\n                // if they are an admin we could give them an informational message about the voucher? not required.\n                // just give an informational message?\n                // OR don't do anything?\n                console.log(\n                  \"you're currently an admin which does not support scanning\"\n                );\n              }\n              this.setState({\n                invalidScan: false\n              });\n            } else {\n              console.log(\"This ID doesn't exist.\");\n              this.setState({\n                invalidScan: true\n              });\n            }\n          });\n      } else {\n        console.log(\"bad path\");\n        this.setState({\n          invalidScan: true\n        });\n      }\n\n      // Make a call to a google cloud function\n      // URL TO relevant info\n      // GCF will take\n\n      this.setState({\n        result: data\n      });\n    }\n  };\n\n  handleError = err => {\n    console.error(err);\n    this.setState({\n      legacyMode: true\n    });\n  };\n\n  render() {\n    let scanner;\n\n    if (this.state.legacyMode) {\n      scanner = (\n        <QrReader\n          delay={300}\n          onError={this.handleError}\n          onScan={this.handleScan}\n          style={{ width: \"50%\", margin: \"auto\" }}\n          legacyMode\n        />\n      );\n    } else {\n      scanner = (\n        <QrReader\n          delay={300}\n          onError={this.handleError}\n          onScan={this.handleScan}\n          style={{ width: \"50%\", margin: \"auto\" }}\n        />\n      );\n    }\n\n    return (\n      <Container>\n        <Segment\n          style={{\n            paddingTop: \"30px\",\n            paddingRight: \"40px\",\n            paddingLeft: \"40px\"\n          }}\n          raised\n        >\n          {this.state.invalidScan ? (\n            <Message warning>\n              <Message.Header>Invalid Scan!</Message.Header>\n              <p>Make sure you have a valid coupon, then try again.</p>\n            </Message>\n          ) : null}\n          <Container>\n            {scanner}\n            <p>Results: {this.state.result}</p>\n          </Container>\n        </Segment>\n      </Container>\n    );\n  }\n}\n","import React from \"react\";\nimport constants from \"./constants\";\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/database\";\nimport { Container, Segment, Table, TableRow, Button, Label, Icon } from \"semantic-ui-react\";\n\nexport default class FarmerPayout extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n        farmerList: [],\n        paidUp: false\n    }\n  }\n\n  componentDidMount() {\n    this.authUnsub = firebase.auth().onAuthStateChanged(user => {\n      this.setState({\n        currentUser: user\n      });\n      if (!this.state.currentUser) { //changed from === null\n        this.props.history.push(constants.routes.base);\n      }\n    });\n\n    this.loadPayoutRecords()\n    this.listenForUpdates()\n  }\n\n  componentWillUnmount() {\n    this.authUnsub();\n  }\n\n  handleChange(evt) {\n    this.setState({ value: evt.target.value });\n  }\n\n  listenForUpdates = () => {\n    // let farmerList = this.state.farmerList\n    let farmerRef = firebase.database().ref('users')\n    farmerRef.on('child_changed', (_snapshot) => {\n        this.loadPayoutRecords()\n    })\n  }\n\n  loadPayoutRecords = () => {\n    let farmerList = []\n    let payoutRef = firebase.database().ref(\"/users/\");\n    payoutRef.once('value', (snapshot) => {\n        snapshot.forEach((childSnapshot) => {\n            let role = childSnapshot.val().role.toLowerCase()\n            let approved = childSnapshot.val().approved.toString().toLowerCase()\n\n            let totalBucks = 0\n            let bucksNotPaid = 0\n            //maybe can get rid of if statement...\n            if(childSnapshot.val().vouchersList) {\n                let vouchersList = childSnapshot.val().vouchersList  \n                Object.keys(vouchersList).forEach((voucher) => {\n                    totalBucks++\n                    if(vouchersList[voucher].toLowerCase() === 'notpaid') {\n                        bucksNotPaid++\n                    }\n                })\n            }\n\n            if(role === 'farmer' && approved === 'true') {\n                farmerList.push({\n                    name: childSnapshot.val().firstName + \" \" + childSnapshot.val().lastName,\n                    farmerUid: childSnapshot.key,\n                    farm: childSnapshot.val().org,\n                    email: childSnapshot.val().email,\n                    totalBucks: totalBucks,\n                    bucksNotPaid: bucksNotPaid\n                })\n            }\n        });\n        this.setState({\n            farmerList\n        })\n    });\n    console.log(\"after set state, farmerList: \", farmerList)\n\n    // filter by role == farmer\n    // load all users that are farmers AND are approved\n    // get their voucher list, check the flag (expecting either \"paid\" or \"paidNot\")\n    // search all those vouchers -> confirmed they've been redeemed AND check if they've been paid out\n    // if they haven't been paid out, add them to a list and get the count \n  }\n\n  // On Button click set the unpaid voucher list to be paidOut: true\n  completePayout = (farmerUid) => {\n    console.log(\"farmerUid\", farmerUid)\n    let farmerRef = firebase.database().ref('users/' + farmerUid + \"/vouchersList\")\n    farmerRef.on('value', (snapshot) => {\n        snapshot.forEach((childSnapshot) => {\n            let key = childSnapshot.key\n            console.log(\"key\", key)\n            let payoutRef = firebase.database().ref('users/' + farmerUid + \"/vouchersList\")\n            payoutRef.update({\n                [key]: \"paid\"\n            })\n        }) \n    })\n  }\n\n  render() {\n    const { farmerList } = this.state\n    console.log(\"farmerList: \", farmerList)\n\n    return (\n      <Container>\n        <Segment\n          style={{\n            paddingTop: \"30px\",\n            paddingRight: \"40px\",\n            paddingLeft: \"40px\"\n          }}\n          raised\n        >\n          <Container>\n          <Table singleLine stackable selectable> \n            <Table.Header>\n            <Table.Row>\n                <Table.HeaderCell>Name</Table.HeaderCell>\n                <Table.HeaderCell>Farm</Table.HeaderCell>\n                <Table.HeaderCell>Email</Table.HeaderCell>\n                <Table.HeaderCell>Total Bucks Collected</Table.HeaderCell>\n                <Table.HeaderCell textAlign='center'>Outstanding Bucks</Table.HeaderCell>\n                {/* <Table.HeaderCell>Mark As Paid</Table.HeaderCell> */}\n            </Table.Row>\n            </Table.Header>\n            <Table.Body>\n            {\n                //for each item in the data provided, map will create a TableRow\n                //that has the respective name, farm, and email\n                farmerList.map(\n                    (element) => {\n                        console.log(\"element: \", element)\n                        return (\n                            <TableRow>\n                                <Table.Cell>{element.name}</Table.Cell>\n                                <Table.Cell>{element.farm}</Table.Cell>\n                                <Table.Cell>{element.email}</Table.Cell>\n                                <Table.Cell>{element.totalBucks}</Table.Cell>\n                                <Table.Cell textAlign='center'>\n                                {(element.bucksNotPaid === 0) ? \n                                    <Button compact basic color='green'>\n                                    <Icon color='green' name='checkmark' size='small' />\n                                    All Paid Up!\n                                    </Button>\n                                    : \n                                    <Button as='div' labelPosition='left'>\n                                        <Label basic as='a' pointing='right'>\n                                        ${element.bucksNotPaid * 2}.00 / {element.bucksNotPaid} Bucks\n                                        </Label>\n                                        <Button color='green' icon onClick={() => this.completePayout(element.farmerUid)}>\n                                            <Icon name='dollar sign' />\n                                            Mark as Paid\n                                        </Button>\n                                    </Button>\n                                }\n                                </Table.Cell>\n                            </TableRow>\n                        )\n                    }\n                )\n            }\n            </Table.Body>\n            </Table>\n          </Container>\n        </Segment>\n      </Container>\n    );\n  }\n}\n","import React from \"react\";\n// import Plot from \"react-plotly.js\";\nimport { Container } from \"semantic-ui-react\";\nimport firebase from \"firebase/app\";\n\nexport default class Dashboard extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      chartData: props.chartData,\n      firebaseDataArray: []\n    };\n  }\n\n//TODO: add role and org and uid to props, not currently defined here\ncomponentDidMount() {\nlet firebaseDataArray = []\n\nif(this.props.role === 'farmer') {\n  let farmerRef = firebase.database().ref('viz1/' + this.props.uid)\n} else if(this.props.role === 'admin') { \n  let adminRef = firebase.database().ref('viz2')\n} else if(this.props.role === 'caseworker') {\n  let caseworkerRef = firebase.database().ref('viz2/' + this.props.org)\n}\n\n//   buckSetsRef.orderByChild('createdOn').on('child_added', (snapshot) => {\n//       const value = snapshot.val()\n//       // sort by newest\n//       firebaseDataArray.push({\n//           title: value.name,\n//           subtitle: value.createdBy\n//       })\n//       this.setState({\n//         firebaseDataArray\n//       })\n//   });\n//   buckSetsRef.orderByChild('createdOn').on('child_removed', (snapshot) => {\n//       const value = snapshot.val()\n//       // filter out the removed item and force another render\n//       firebaseDataArray = firebaseDataArray.filter(el => !(el.title === value.name && el.subtitle === value.createdBy))\n//       this.setState({\n//         firebaseDataArray\n//       })\n//   });\n}\n\n  render() {\n    return (\n      <Container>\n        {/* <Plot\n          // consider putting this on the backend, so its only retrieved by an authenticated API call\n          data={[\n            {\n              x: [\n                \"VYFS\",\n                \"IFCH\",\n                \"Community Dinner\",\n                \"VCCC\",\n                \"Senior Center\",\n                \"DOVE\",\n                \"La Communidad\",\n                \"VHH\",\n                \"Food Bank\"\n              ],\n              y: [0.62, 0.63, 0.29, 0.79, 0.84, 0.65, 0.45, 0.81, 0.5],\n              type: \"bar\",\n              name: \"2018\"\n            },\n            {\n              x: [\n                \"VYFS\",\n                \"IFCH\",\n                \"Community Dinner\",\n                \"VCCC\",\n                \"Senior Center\",\n                \"DOVE\",\n                \"La Communidad\",\n                \"VHH\",\n                \"Food Bank\"\n              ],\n              y: [0.7, 0.75, 0.73, 0.96, 0.99, 0.47, 0.64, 0.69, 0.72],\n              type: \"bar\",\n              name: \"2017\"\n            },\n            {\n              x: [\n                \"VYFS\",\n                \"IFCH\",\n                \"Community Dinner\",\n                \"VCCC\",\n                \"Senior Center\",\n                \"DOVE\",\n                \"La Communidad\",\n                \"VHH\",\n                \"Food Bank\"\n              ],\n              y: [0.694, 0.802, 0.46, 0.71, 0.98, 0.685, 0.567, 0.988, 0],\n              type: \"bar\",\n              name: \"2016\"\n            }\n          ]}\n          layout={{\n            title: \"Redemption Rates\",\n            barmode: \"group\",\n            yaxis: { title: \"Percent\" },\n            xaxis: { title: \"Partner Organizations\" }\n          }}\n        />\n\n        <Plot\n          data={[\n            {\n              x: [2018, 2017, 2016, 2015],\n              y: [0.62, 0.7, 0.694, 0.915],\n              type: \"bar\",\n              name: \"VYFS\"\n            },\n            {\n              x: [2018, 2017, 2016, 2015],\n              y: [0.63, 0.75, 0.8029, 0.607],\n              type: \"bar\",\n              name: \"IFCH\"\n            },\n            {\n              x: [2018, 2017, 2016, 2015],\n              y: [0.29, 0.73, 0.46, 0.3354],\n              type: \"bar\",\n              name: \"Community Dinner\"\n            },\n            {\n              x: [2018, 2017, 2016, 2015],\n              y: [0.79, 0.96, 0.71, 0.9988],\n              type: \"bar\",\n              name: \"VCCC\"\n            },\n            {\n              x: [2018, 2017, 2016, 2015],\n              y: [0.84, 0.99, 0.98, 0.924],\n              type: \"bar\",\n              name: \"Senior Center\"\n            },\n            {\n              x: [2018, 2017, 2016, 2015],\n              y: [0.29, 0.73, 0.46, 0.808],\n              type: \"bar\",\n              name: \"Community Dinner\"\n            },\n            {\n              x: [2018, 2017, 2016, 2015],\n              y: [0.65, 0.47, 0.685, 0.808],\n              type: \"bar\",\n              name: \"DOVE\"\n            },\n            {\n              x: [2018, 2017, 2016, 2015],\n              y: [0.45, 0.64, 0.5677, 0.716],\n              type: \"bar\",\n              name: \"La Communidad\"\n            },\n            {\n              x: [2018, 2017, 2016, 2015],\n              y: [0.81, 0.69, 0.988, 0.8267],\n              type: \"bar\",\n              name: \"VHH\"\n            },\n            {\n              x: [2018, 2017, 2016, 2015],\n              y: [0.5, 0.72, 0, 0],\n              type: \"bar\",\n              name: \"Food Bank\"\n            }\n          ]}\n          layout={{\n            title: \"Redemption Rates\",\n            barmode: \"group\",\n            yaxis: { title: \"Percent\" },\n            xaxis: { title: \"Partner Organizations\" }\n          }}\n        />\n        <Plot\n          data={[\n            {\n              values: [20, 30, 50],\n              type: \"pie\",\n              labels: [\"a\", \"b\", \"c\"]\n            }\n          ]}\n          layout={{ title: \"Pie\" }}\n        /> */}\n      </Container>\n    );\n  }\n}\n","import React from \"react\";\nimport { HashRouter as Router, Switch, Route, Link } from \"react-router-dom\";\nimport BucksLanding from \"./BucksLanding\";\nimport constants from \"./constants\";\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/database\";\nimport Scan from \"./Scan\";\n//import ViewData from \"./ViewData\";\nimport ManageAccount from \"./ManageAccount\";\nimport FarmerPayout from \"./FarmerPayout\";\nimport CreateBucks from \"./CreateBucks.jsx\";\nimport {\n  Container,\n  Header,\n  Icon,\n  Label,\n  Menu,\n  Segment,\n  Responsive\n} from \"semantic-ui-react\";\nimport Dashboard from \"./Dashboard\";\n\n// const Title = styled.section`\n//   height: 220px;\n//   background-image: linear-gradient(to bottom right, #505c86, #404e67);\n// `;\n\n//const mql = window.matchMedia(`(min-width: 800px)`);\n\nexport default class MainView extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      role: \"\",\n      username: \"\",\n      org: \"\"\n      //sidebarDocked: mql.matches,\n      //sidebarOpen: false\n    };\n\n    //this.mediaQueryChanged = this.mediaQueryChanged.bind(this);\n    //this.onSetSidebarOpen = this.onSetSidebarOpen.bind(this);\n  }\n\n  handleOnUpdate = (e, { width }) => this.setState({ width });\n\n  handleSignOut = () => {\n    firebase\n      .auth()\n      .signOut()\n      .then(this.props.history.push(constants.routes.base));\n  };\n\n  componentWillMount() {\n    //mql.addListener(this.mediaQueryChanged);\n  }\n\n  componentWillUnmount() {\n    //mql.removeListener(this.mediaQueryChanged);\n  }\n\n  onSetSidebarOpen(open) {\n    //this.setState({ sidebarOpen: open });\n  }\n\n  mediaQueryChanged() {\n    //this.setState({ sidebarDocked: mql.matches, sidebarOpen: false });\n  }\n\n  // anton componentDidMount() -> useful for testing because you can still work if not approved\n  componentDidMount() {\n    this.authUnsub = firebase.auth().onAuthStateChanged(user => {\n      if (!user) {\n        this.props.history.push(constants.routes.base);\n      } else {\n        user.getIdTokenResult().then(idTokenResult => {\n          console.log(\"role: \", idTokenResult.claims.role);\n          if (idTokenResult.claims.role === \"caseworker\") {\n            this.setState({\n              username: user.email,\n              uid: user.uid,\n              role: idTokenResult.claims.role,\n              org: this.state.org\n            });\n          } else {\n            this.setState({\n              username: user.email,\n              uid: user.uid,\n              role: idTokenResult.claims.role\n            });\n          }\n        });\n      }\n    });\n  }\n\n  // august componentDidMount() -> does not allow people to route around\n  // componentDidMount() {\n  //   this.authUnsub = firebase.auth().onAuthStateChanged(user => {\n  //     if(!user) {\n  //       this.props.history.push(constants.routes.base);\n  //     } else { //they are authenticated\n  //       user.getIdTokenResult().then(idTokenResult => {\n  //         console.log(idTokenResult.claims.role)\n  //         if(!idTokenResult.claims.role) {\n  //           //their role is null\n  //           //push them to the barrier page\n  //           this.props.history.push(constants.routes.barrier);\n  //         } else {\n  //           //their role has been approved\n  //           this.setState({\n  //             username: user.email,\n  //             uid: user.uid,\n  //             role: idTokenResult.claims.role\n  //           });\n  //         }\n  //       })\n  //     }\n  //   })\n  // }\n\n  render() {\n    let farmerNav = [\n      <Menu.Item\n        name=\"Scan\"\n        as={Link}\n        to={constants.routes.dash.base}\n        active={this.props.location.pathname === constants.routes.dash.base}\n      />,\n      <Menu.Item\n        name=\"View Data\"\n        as={Link}\n        to={constants.routes.dash.viewData}\n        active={this.props.location.pathname === constants.routes.dash.viewData}\n      />\n    ];\n\n    let cworkerNav = [\n      <Menu.Item\n        name=\"Scan\"\n        as={Link}\n        to={constants.routes.dash.base}\n        active={this.props.location.pathname === constants.routes.dash.base}\n      />,\n      <Menu.Item\n        name=\"View Data\"\n        as={Link}\n        to={constants.routes.dash.viewData}\n        active={this.props.location.pathname === constants.routes.dash.viewData}\n      />\n    ];\n\n    let adminNav = [\n      <Menu.Item\n        name=\"Create Bucks\"\n        as={Link}\n        to={constants.routes.dash.bucksLanding}\n        active={\n          this.props.location.pathname === constants.routes.dash.bucksLanding\n        }\n      />,\n      <Menu.Item\n        name=\"Manage Accounts\"\n        as={Link}\n        to={constants.routes.dash.manageAccount}\n        active={\n          this.props.location.pathname === constants.routes.dash.manageAccount\n        }\n      />,\n      <Menu.Item\n        name=\"View Data\"\n        as={Link}\n        to={constants.routes.dash.viewData}\n        active={this.props.location.pathname === constants.routes.dash.viewData}\n      />\n    ];\n\n    let bookkeeperNav = [\n      <Menu.Item\n        name=\"Farmer Payout\"\n        as={Link}\n        to={constants.routes.dash.farmerPayout}\n        active={this.props.location.pathname === constants.routes.dash.farmerPayout}\n      />\n    ];\n\n    let farmerUI = [\n      <Route\n        exact\n        path={constants.routes.dash.base}\n        render={() => <Scan role={this.state.role} userId={this.state.uid} />}\n      />,\n      <Route path={constants.routes.dash.viewData} render={() => <Dashboard role={this.state.role} uid={this.state.uid} org={this.state.org}/>} />\n    ];\n\n    let cworkerUI = [\n      <Route\n        exact\n        path={constants.routes.dash.base}\n        render={() => <Scan role={this.state.role} userId={this.state.uid} />}\n      />,\n      <Route path={constants.routes.dash.viewData} render={() => <Dashboard role={this.state.role} uid={this.state.uid} org={this.state.org}/>} />\n    ];\n\n    let adminUI = [\n      <Route\n        path={constants.routes.dash.bucksLanding}\n        render={() => <BucksLanding username={this.state.username} />}\n      />,\n      <Route\n        path={constants.routes.dash.manageAccount}\n        component={ManageAccount}\n      />,\n      <Route path={constants.routes.dash.base} render={() => <Dashboard role={this.state.role} uid={this.state.uid} org={this.state.org}/>} />,\n      <Route\n        path={constants.routes.dash.createBucks}\n        render={() => <CreateBucks username={this.state.username} />}\n      />\n    ];\n\n    let bookkeeperUI = [\n      <Route\n        path={constants.routes.dash.farmerPayout}\n        render={() => <FarmerPayout username={this.state.username} />}\n      />\n    ]\n\n    let ui;\n    let label;\n    let nav;\n\n    if (this.state.role === \"admin\") {\n      ui = adminUI;\n      nav = adminNav;\n      label = \"Food Access Partnership\";\n    } else if (this.state.role === \"caseworker\") {\n      ui = cworkerUI;\n      nav = cworkerNav;\n      label = \"Partner Organization\";\n    } else if (this.state.role === 'farmer') {\n      ui = farmerUI;\n      nav = farmerNav;\n      label = \"Farmer\";\n    } else if (this.state.role === 'bookkeeper') {\n      ui = bookkeeperUI;\n      nav = bookkeeperNav;\n      label = \"Bookkeeper\";\n    }\n\n    let title;\n\n    if (this.props.location.pathname === \"/dash\") {\n      title = \"Scan\";\n    } else if (this.props.location.pathname === \"/dash/manage\") {\n      title = \"Manage Accounts\";\n    } else if (this.props.location.pathname === \"/dash/BucksLanding\") {\n      title = \"Create a Buck Set\";\n    } else if (this.props.location.pathname === \"/dash/farmerPayout\") {\n      title = \"Farmer Payout\";\n    } else {\n      // TO CHANGE:\n      title = \"Visualizations\"; \n    }\n\n    return (\n      <div>\n        <Segment basic color=\"blue\" inverted padded=\"very\">\n          <Header padded=\"very\" size=\"huge\" floated=\"left\">\n            {title}\n          </Header>\n\n          <Responsive as={Header} floated=\"right\" {...Responsive.onlyComputer}>\n            <Icon name=\"user circle\" size=\"huge\" />\n            <Header.Content>\n              {this.state.username}\n              <Header.Subheader\n                style={{\n                  color: \"white\"\n                }}\n              >\n                <Label style={{ padding: \"0.3em\", margin: \"0\" }}>{label}</Label>\n              </Header.Subheader>\n            </Header.Content>\n          </Responsive>\n\n          <Responsive as={Header.Subheader} {...Responsive.onlyMobile}>\n            <Header.Content>\n              {this.state.username}\n              <Header.Subheader\n                style={{\n                  color: \"white\"\n                }}\n              >\n                <Label style={{ padding: \"0.3em\", margin: \"0\" }}>{label}</Label>\n              </Header.Subheader>\n            </Header.Content>\n          </Responsive>\n        </Segment>\n\n        {/* remove 'pointing secondary' to change to the alternate style */}\n        <Menu stackable secondary>\n          {nav}\n          <Menu.Menu position=\"right\">\n            <Menu.Item name=\"logout\" onClick={this.handleSignOut} />\n          </Menu.Menu>\n        </Menu>\n\n        <Container\n          style={{\n            width: \"100%\",\n            padding: \"50px\",\n            height: \"calc(100% - 220px)  !important\",\n            backgroundColor: \"#eff0f3\"\n          }}\n        >\n          <Router>\n            <Switch>{ui}</Switch>\n          </Router>\n        </Container>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport firebase from \"firebase/app\";\nimport constants from \"./constants\";\nimport { Grid, Header, Icon, Segment } from \"semantic-ui-react\";\nimport \"firebase/auth\";\nimport \"firebase/database\";\n\nexport default class Barrier extends React.Component {\n  componentDidMount() {\n    this.authUnsub = firebase.auth().onIdTokenChanged(user => {\n      if (user) {\n        console.log(\"user = \", { user });\n        user.getIdTokenResult(true).then(idTokenResult => {\n          console.log(\"idTokenResult\", idTokenResult.claims.role);\n          if (idTokenResult.claims.role) {\n            //push them on to the dashboard\n            this.props.history.push(constants.routes.dash.base);\n          }\n        });\n      } else {\n        console.log(\"user not defined\");\n      }\n    });\n    // firebase.auth().onIdTokenChanged()\n  }\n\n  render() {\n    return (\n      <Grid centered=\"true\">\n        <Grid.Column width={6} verticalAlign=\"middle\" textAlign=\"center\">\n          <Segment inverted color=\"olive\">\n            <Icon name=\"hand paper outline\" size=\"huge\" />\n            <Header\n              inverted\n              as=\"h1\"\n              content=\"Your account is pending approval.\"\n            />\n            <Header.Subheader>\n              Once your account is approved this page will automatically update.\n            </Header.Subheader>\n            <p>\n              Please contact foodaccesspartnership@vigavashon.org with account\n              inquiries.\n            </p>\n          </Segment>\n        </Grid.Column>\n      </Grid>\n    );\n  }\n}\n","import React from \"react\";\nimport Dashboard from \"./Dashboard\";\nimport { Container } from 'semantic-ui-react';\n\nexport default class ViewData extends React.Component {\n  render() {\n    // const { user } = this.props\n    // examine the credentials and display the appropriate information\n    // let tier = user.tier\n    // const { tier } = user\n    // https://firebase.google.com/docs/auth/admin/custom-claims\n    return (\n        <Dashboard />\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport { HashRouter as Router, Switch, Route } from \"react-router-dom\";\nimport constants from \"./components/constants\";\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/database\";\nimport LogInActivity from \"./components/LogInActivity.jsx\";\nimport CreateAccount from \"./components/CreateAccount.jsx\";\nimport AccountRecovery from \"./components/AccountRecovery.jsx\";\nimport ManageAccount from \"./components/ManageAccount.jsx\";\nimport EditAccount from \"./components/EditAccount.jsx\";\nimport MainView from \"./components/MainView\";\nimport Scan from \"./components/Scan\";\nimport ViewData from \"./components/ViewData\";\nimport Barrier from \"./components/Barrier.jsx\"\n\nclass App extends Component {\n  // constructor(props) {\n  //   super(props)\n  //   this.state = {\n  //     user: undefined\n  //   }\n  // }\n\n  // componentDidMount() {\n  //   firebase.auth().onAuthStateChanged(user => {\n  //     if (!user) {\n  //       this.props.history.push(constants.routes.base)\n  //     } else {\n  //       this.setState({\n  //         user\n  //       })\n  //     }\n  //   });\n  // }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Router>\n          <Switch>\n            <Route\n              exact\n              path={constants.routes.base}\n              component={LogInActivity}\n            />\n            {/* {this.state.user && <Route path={constants.routes.base} component={MainView} />} */}\n            <Route path={constants.routes.dash.base} component={MainView} />\n            <Route\n              path={constants.routes.createAccount}\n              component={CreateAccount}\n            />\n            <Route\n              path={constants.routes.accountRecovery}\n              component={AccountRecovery}\n            />\n            <Route\n              path={constants.routes.barrier}\n              component={Barrier}\n            />\n          </Switch>\n        </Router>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport 'semantic-ui-css/semantic.min.css';\nimport firebase from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/database';\n\n// Initialize Firebase\nvar config = {\n    apiKey: \"AIzaSyArFZbAeQ5YDelr8x-lChKbUvPvo2Z7GF8\",\n    authDomain: \"fapadmin-97af8.firebaseapp.com\",\n    databaseURL: \"https://fapadmin-97af8.firebaseio.com\",\n    projectId: \"fapadmin-97af8\",\n    storageBucket: \"fapadmin-97af8.appspot.com\",\n    messagingSenderId: \"766068690399\"\n};\n\nfirebase.initializeApp(config);\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}