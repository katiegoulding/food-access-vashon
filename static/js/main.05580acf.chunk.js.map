{"version":3,"sources":["farmBuckEnglish.jpg","farmBuckSpanish.jpg","components/constants.jsx","components/LogInActivity.jsx","components/CreateAccount.jsx","components/AccountRecovery.jsx","components/BuckSetListItem.jsx","components/ViewBucks.jsx","components/CreateBucks.jsx","components/FormSuccess.jsx","components/BucksLanding.jsx","components/Scan.jsx","components/Account.jsx","components/AccountList.jsx","components/ManageAccount.jsx","components/FarmerPayout.jsx","components/LineGraph.jsx","components/BarGraph.jsx","components/Dashboard.jsx","components/MainView.jsx","components/Barrier.jsx","App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","constants","routes","barrier","createAccount","accountRecovery","base","dash","viewData","createBucks","bucksLanding","viewBucks","scan","manageAccount","editAccount","formSuccess","farmerPayout","variables","colors","bodyBG","LogInActivity","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleOnUpdate","e","_ref","width","setState","state","email","pw","role","errorMessage","undefined","loading","_this2","authUnsub","firebase","auth","onAuthStateChanged","user","getIdTokenResult","then","idTokenResult","console","log","claims","history","push","evt","_this3","preventDefault","signInWithEmailAndPassword","catch","err","message","_this4","_this$state","colWidth","Responsive","onlyTablet","minWidth","react_default","a","createElement","as","Grid","fireOnMount","onUpdate","centered","middle","columns","Column","verticalAlign","textAlign","Message","attached","header","content","className","Form","onSubmit","handleSignIn","error","Input","required","id","label","placeholder","type","value","onInput","target","Button","Divider","hidden","Link","to","info","Icon","name","React","Component","CreateAccount","firstName","lastName","org","pw_confirm","toLowerCase","displayName","length","createUserWithEmailAndPassword","response","database","ref","concat","uid","set","lastPayoutDate","vouchersList","approved","orgOptions","key","text","handleCreateAccount","htmlFor","Select","options","onChange","data","readOnly","AccountRecovery","successMessage","currentUser","sendPasswordResetEmail","handlePasswordReset","warning","BuckSetListItem","showView","viewModalOpen","open","close","deleteBuckSet","buckSetName","buckSetRef","remove","deleteModalOpen","capstoneBucks","once","snapshot","deleteCount","forEach","childSnapshot","buckSet","includes","viewBuckSet","_this$props$data","createdBy","createdOn","expirationDate","communitycareCount","communitymealsCount","doveCount","foodbankCount","interfaithCount","lacomunidadCount","seniorcenterCount","vashonhouseholdCount","vyfsCount","vyfsfamilyplaceCount","vyfslatinxCount","dateObj","Date","prettyDate","getMonth","getDate","getFullYear","Card","fluid","Content","Header","Meta","extra","Modal","trigger","primary","size","onClose","closeIcon","icon","onClick","Confirm","cancelButton","confirmButton","onCancel","onConfirm","ViewBucks","firebaseBuckSet","buckSetsRef","orderByChild","on","val","filter","el","title","subtitle","Container","Group","map","element","BuckSetListItem_BuckSetListItem","pdfMake","vfs","pdfFonts","CreateBucks","validateFormData","asyncToGenerator","regenerator_default","mark","_callee","sum","nameExists","wrap","_context","prev","next","abrupt","equalTo","toggleShowCreateBucks","stop","_x","apply","arguments","complete","hasError","Segment","inline","transparent","handleChange","color","Statistic","widths","Value","Label","Number","min","orgID","foodbank","dove","vcc","seniorcenter","interfaith","communitymeals","vashonhousehold","lacomunidad","vyfs","vyfslatinx","vyfsfamily","FormSuccess","toDataURL","src","callback","outputFormat","img","Image","crossOrigin","onload","dataURL","canvas","document","ctx","getContext","height","naturalHeight","naturalWidth","drawImage","handleSubmit","event","_this$props","ids","promises","isLoading","child","update","username","_data","percent","postVoucherData","Promise","all","_doesPass","bgImgSP","dataUrlSP","bgImg","dataUrl","documentDefinition","createPDF","createPdf","download","progressLabel","downloadComplete","setTimeout","dataURLSP","year","split","count","i","pOrgID","partnerOrg","code","qr","exp","absolutePosition","x","y","fontSize","bold","yearText","coupon","image","fit","pageBreak","generateSpanishPage","pageMargins","doc","spURL","end","organization","updates","voucherData","newVoucherKey","defineProperty","raised","style","paddingTop","paddingRight","paddingLeft","Subheader","Progress","active","success","Or","BucksLanding","showCreateBucks","bind","assertThisInitialized","newState","_event","stackable","Row","CreateBucks_CreateBucks","FormSuccess_FormSuccess","ViewBucks_ViewBucks","Scan","handleScan","isValid","exists","populateUserData","populateVisData","scanState","invalidScan","delayedStopLoading","redeemDate","vizRef","userId","voucherRef","userRef","snapshotInner","getTime","redeemedOn","handedOutDate","handedOutOn","showResponseMessage","positive","negative","handleError","legacyMode","qrCode","str","test","scanner","lib_default","delay","onError","onScan","basic","Dimmer","inverted","Loader","maxWidth","SegmentGroup","Account","functions","httpsCallable","deleteUser","acctSnapshot","result","acctRef","acct","changeRole","appEl","Table","Cell","onlyComputer","collapsing","compact","handleApprove","handlePurge","AccountList","accountSnapshot","nextProps","accountRef","off","unlisten","indeterminate","accts","Account_Account","selectable","HeaderCell","Body","ManageAccount","date_added","AccountList_AccountList","FarmerPayout","listenForUpdates","_snapshot","loadPayoutRecords","farmerList","toString","totalBucks","bucksNotPaid","keys","voucher","farmerUid","farm","completePayout","paidUp","singleLine","TableRow","labelPosition","pointing","LineGraph","_useState","useState","_useState2","slicedToArray","charData","setCharData","_useState3","_useState4","setRole","_useState5","_useState6","setIsLoaded","useEffect","isLoaded","nivo_line_esm","scheme","xScale","format","precision","xFormat","curve","yScale","stacked","axisLeft","orient","tickSize","tickPadding","tickRotation","legend","legendOffset","legendPosition","axisBottom","tickValues","animate","margin","top","right","bottom","left","enableSlices","lineWidth","enableArea","sliceTooltip","slice","background","padding","border","points","xFormatted","point","serieColor","serieId","yFormatted","legends","anchor","direction","justify","translateX","translateY","itemsSpacing","itemDirection","itemWidth","itemHeight","itemOpacity","symbolSize","symbolShape","symbolBorderColor","effects","itemBackground","BarGraph","nivo_bar_esm","Array","isArray","curChartKey","indexBy","theme","axis","ticks","groupMode","motionStiffness","motionDamping","borderColor","from","modifiers","axisTop","axisRight","tooltip","indexValue","overflow","toUpperCase","marginLeft","float","dataFrom","labelSkipWidth","labelSkipHeight","labelTextColor","keySelection","month","Dashboard","filteredData","curFilter","setFilter","setCurChartKey","_useState7","_useState8","timeFilter","setTimeFilter","_useState9","_useState10","_useState11","_useState12","_useState13","_useState14","totalRedeemed","setTotalRedeemed","_useState15","_useState16","_useState17","_useState18","totalHandedOut","setTotalHandedOut","_useState19","_useState20","totalCreated","setTotalCreated","_useState21","_useState22","handleAdmin","firebaseDataArray","redCount","handCount","createCount","orgJSON","created","handedOut","redeemed","scanType","numberWithCommas","parts","replace","join","orderByValue","scanDay","toISOString","index","findIndex","item","handleFarmer","array","dates","datesInMonth","childKey","counts","day","tot","date","newData","toConsumableArray","arr","len","enoughData","dataPoint","padded","horizontal","Dropdown","defaultValue","selection","MainView","handleSignOut","signOut","ui","nav","isAdmin","farmerNav","Menu","Item","location","pathname","cworkerNav","adminNav","bookkeeperNav","farmerUI","Route","exact","path","render","Scan_Scan","cworkerUI","adminUI","BucksLanding_BucksLanding","component","bookkeeperUI","FarmerPayout_FarmerPayout","clearing","floated","secondary","position","HashRouter","Switch","Barrier","onIdTokenChanged","App","isLocalhost","Boolean","window","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onSuccess","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","ReactDOM","src_App_0","getElementById","URL","process","href","origin","addEventListener","fetch","contentType","headers","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.05580acf.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/farmBuckEnglish.80ad82af.jpg\";","module.exports = __webpack_public_path__ + \"static/media/farmBuckSpanish.1ad6f708.jpg\";","export default {\n  routes: {\n    barrier: \"/barrier\",\n    createAccount: \"/signup\",\n    accountRecovery: \"/recover\",\n    base: \"/\",\n    dash: {\n      base: \"/dash\",\n      viewData: \"/dash/ViewData\",\n      createBucks: \"/dash/CreateBucks\",\n      bucksLanding: \"/dash/BucksLanding\",\n      viewBucks: \"/dash/ViewBucks\",\n      scan: \"/dash/Scan\",\n      manageAccount: \"/dash/manage\",\n      editAccount: \"/dash/manage/edit\",\n      formSuccess: \"/dash/formSuccess\",\n      farmerPayout: \"/dash/farmerPayout\"\n    }\n  },\n  variables: {\n    colors: {\n      bodyBG: \"#EFF0F3\"\n    }\n  }\n};\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport constants from \"./constants\";\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/database\";\nimport {\n  Message,\n  Form,\n  Button,\n  Icon,\n  Grid,\n  Divider,\n  Responsive\n} from \"semantic-ui-react\";\n\nexport default class LogInActivity extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: \"\",\n      pw: \"\",\n      role: \"\",\n      errorMessage: undefined,\n      loading: false\n    };\n  }\n\n  componentDidMount() {\n    //listen for auth change\n    this.authUnsub = firebase.auth().onAuthStateChanged(user => {\n      if (user) {\n        user.getIdTokenResult().then(idTokenResult => {\n          console.log(idTokenResult.claims.role);\n          if (idTokenResult.claims.role) {\n            //push them on to the dashboard\n            this.props.history.push(constants.routes.dash.base);\n          } else {\n            //push them to the barrier page\n            this.props.history.push(constants.routes.barrier);\n          }\n        });\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    this.authUnsub();\n  }\n\n  handleSignIn(evt) {\n    evt.preventDefault();\n\n    this.setState({\n      loading: true\n    });\n\n    firebase\n      .auth()\n      .signInWithEmailAndPassword(this.state.email, this.state.pw)\n      .catch(err =>\n        this.setState({\n          errorMessage: err.message,\n          loading: false\n        })\n      );\n  }\n\n  handleOnUpdate = (e, { width }) => this.setState({ width });\n\n  render() {\n    const { loading, errorMessage } = this.state;\n    const { width } = this.state;\n    const colWidth = width >= Responsive.onlyTablet.minWidth ? \"6\" : \"12\";\n\n    return (\n      <Responsive\n        as={Grid}\n        fireOnMount\n        onUpdate={this.handleOnUpdate}\n        centered=\"true\"\n        middle\n        columns={1}\n      >\n        <Grid.Column width={colWidth} verticalAlign=\"middle\" textAlign=\"left\" >\n          <Message\n            attached=\"top\"\n            header=\"Welcome to our site!\"\n            content=\"Sign in to access your account\"\n            className=\"messageHeader loginIllustrations\"\n          />\n\n          <Form\n            className=\"attached fluid segment messageBody\"\n            onSubmit={evt => this.handleSignIn(evt)}\n            error={errorMessage}\n            loading={loading}\n          >\n            <Message error header={errorMessage} content={\"not logged in\"} />\n\n            <Form.Input\n              required\n              id=\"email\"\n              label=\"Email\"\n              placeholder=\"Email\"\n              type=\"email\"\n              value={this.state.email}\n              onInput={evt => this.setState({ email: evt.target.value })}\n              className=\"LogInActivity-Input-Style\"\n            />\n\n            <Form.Input\n              required\n              id=\"pw\"\n              label=\"Password\"\n              placeholder=\"Password\"\n              type=\"password\"\n              value={this.state.pw}\n              onInput={evt => this.setState({ pw: evt.target.value })}\n              className=\"LogInActivity-Input-Style\"\n            />\n\n            <Button type=\"submit\">Sign In</Button>\n            <Divider hidden />\n            <Link to={constants.routes.accountRecovery}>Forgot password?</Link>\n          </Form>\n\n          <Message attached=\"bottom\" className=\"messageFooter\" info>\n            <Icon name=\"help\" />\n            Don't have an account? &nbsp;\n            <Link to={constants.routes.createAccount}>Sign Up</Link>\n            &nbsp;instead.\n          </Message>\n        </Grid.Column>\n      </Responsive>\n    );\n  }\n}\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport constants from \"./constants\";\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/database\";\nimport {\n  Message,\n  Form,\n  Button,\n  Icon,\n  Grid,\n  Responsive\n} from \"semantic-ui-react\";\n\nexport default class CreateAccount extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      firstName: \"\",\n      lastName: \"\",\n      role: \"\",\n      org: \"\",\n      email: \"\",\n      pw: \"\",\n      pw_confirm: \"\",\n      errorMessage: undefined\n    };\n  }\n\n  componentDidMount() {\n    //listen for auth change\n    this.authUnsub = firebase.auth().onAuthStateChanged(user => {\n      if (user) {\n        user.getIdTokenResult().then(idTokenResult => {\n          console.log(idTokenResult.claims.role);\n          if (idTokenResult.claims.role) {\n            //push them on to the dashboard\n            this.props.history.push(constants.routes.dash.base);\n          } else {\n            //push them to the barrier page\n            this.props.history.push(constants.routes.barrier);\n          }\n        });\n      }\n    });\n  }\n\n  handleCreateAccount(evt) {\n    evt.preventDefault();\n\n    this.setState({\n      loading: true\n    });\n\n    // handle case for bookkeeper and admin org\n    if (\n      this.state.role.toLowerCase() === \"admin\" ||\n      this.state.role.toLowerCase() === \"bookkeeper\"\n    ) {\n      this.setState({\n        org: \"fap\"\n      });\n    }\n\n    if (this.state.pw !== this.state.pw_confirm) {\n      this.setState({\n        errorMessage: \"Passwords do not match\",\n        loading: false\n      });\n    } else if (this.state.displayName === \"\") {\n      this.setState({\n        errorMessage: \"Enter Display Name\",\n        loading: false\n      });\n      return;\n    } else if (this.state.pw.length < 6) {\n      this.setState({\n        errorMessage: \"Password must be at least six characters\",\n        loading: false\n      });\n      return;\n    } else {\n      // auth.token.role == 'admin'\n      firebase\n        .auth()\n        .createUserWithEmailAndPassword(this.state.email, this.state.pw)\n        .then(response => {\n          try {\n            this.setState({\n              loading: true,\n              errorMessage: \"\"\n            });\n            console.log(\"response = \", response);\n            return firebase\n              .database()\n              .ref(`/users/${response.user.uid}`)\n              .set({\n                firstName: this.state.firstName,\n                lastName: this.state.lastName,\n                email: this.state.email,\n                role: this.state.role,\n                lastPayoutDate: \"N/A\",\n                org: this.state.org,\n                vouchersList: [], // added on 5/20 to avoid accessing undefined later\n                approved: false // TODO: Change this?\n              });\n          } catch (err) {\n            console.log(\"err on write to db = \", err);\n            return this.setState({\n              loading: false,\n              errorMessage: err.message\n            });\n          }\n        })\n        .catch(err => {\n          console.log(\"err on write to db = \", err);\n          this.setState({\n            loading: false,\n            errorMessage: err.message\n          });\n        });\n    }\n  }\n\n  handleOnUpdate = (e, { width }) => this.setState({ width });\n\n  render() {\n    const roleOptions = [\n      { key: \"f\", text: \"Farmer\", value: \"Farmer\" },\n      { key: \"c\", text: \"Caseworker\", value: \"Caseworker\" },\n      { key: \"a\", text: \"Admin\", value: \"Admin\" },\n      { key: \"b\", text: \"Bookkeeper\", value: \"Bookkeeper\" }\n    ];\n\n    const orgOptions = [\n      { key: \"f\", text: \"Vashon Community Food Bank\", value: \"foodbank\" },\n      { key: \"d\", text: \"The Dove Project\", value: \"dove\" },\n      { key: \"c\", text: \"Vashon Community Care\", value: \"vcc\" },\n      { key: \"s\", text: \"Vashon Senior Center\", value: \"seniorcenter\" },\n      {\n        key: \"i\",\n        text: \"Interfaith Council to Prevent Homelessness\",\n        value: \"interfaith\"\n      },\n      { key: \"m\", text: \"Community Meals\", value: \"communitymeals\" },\n      { key: \"h\", text: \"Vashon Household\", value: \"vashonhousehold\" },\n      { key: \"l\", text: \"La Comunidad & ECEAP\", value: \"lacomunidad\" },\n      { key: \"y\", text: \"VYFS\", value: \"vyfs\" },\n      { key: \"x\", text: \"VYFS: Latinx\", value: \"vyfslatinx\" },\n      { key: \"p\", text: \"VYFS: Family Place\", value: \"vyfsfamily\" }\n    ];\n\n    const { loading, errorMessage, role } = this.state;\n    const { width } = this.state;\n    const colWidth = width >= Responsive.onlyTablet.minWidth ? \"6\" : \"12\";\n\n    return (\n      <Responsive\n        as={Grid}\n        fireOnMount\n        onUpdate={this.handleOnUpdate}\n        centered=\"true\"\n        middle\n        columns={1}\n      >\n        <Grid.Column\n          width={colWidth}\n          verticalAlign=\"middle\"\n          textAlign=\"left\"\n          className=\"mt100 mb100\"\n        >\n          <Message\n            attached\n            header=\"Create an Account\"\n            content=\"Provide some basic information to get started!\"\n            className=\"messageHeader loginIllustrations\"\n          />\n\n          <Form\n            className=\"attached fluid segment messageBody\"\n            onSubmit={evt => this.handleCreateAccount(evt)}\n            error={errorMessage}\n            loading={loading}\n          >\n            <Message\n              error\n              header={\"Account not created\"}\n              content={errorMessage}\n            />\n\n            <Form.Input\n              required\n              label=\"First Name\"\n              htmlFor=\"firstName\"\n              id=\"firstName\"\n              type=\"text\"\n              className=\"form-control\"\n              value={this.state.firstName}\n              onInput={evt => this.setState({ firstName: evt.target.value })}\n            />\n\n            <Form.Input\n              required\n              label=\"Last Name\"\n              htmlFor=\"lastName\"\n              id=\"lastName\"\n              type=\"text\"\n              className=\"form-control\"\n              value={this.state.lastName}\n              onInput={evt => this.setState({ lastName: evt.target.value })}\n            />\n\n            <Form.Select\n              required\n              label=\"Role\"\n              htmlFor=\"role\"\n              value={this.state.role}\n              options={roleOptions}\n              onChange={(evt, data) => {\n                this.setState({ role: data.value });\n              }}\n            />\n\n            {(() => {\n              switch (role) {\n                case \"Caseworker\":\n                  return (\n                    <Form.Select\n                      required\n                      label=\"Affiliated Organization:\"\n                      htmlFor=\"organization\"\n                      value={this.state.org}\n                      options={orgOptions}\n                      onChange={(evt, data) => {\n                        this.setState({ org: data.value });\n                      }}\n                    />\n                  );\n                case \"Farmer\":\n                  return (\n                    <Form.Input\n                      required\n                      label=\"Farm Name:\"\n                      htmlFor=\"organization\"\n                      value={this.state.org}\n                      onInput={evt => this.setState({ org: evt.target.value })}\n                    />\n                  );\n                case \"Admin\":\n                  return (\n                    <Form.Input\n                      label=\"Affiliated Organization:\"\n                      htmlFor=\"organization\"\n                      value={\"Food Access Partnership\"}\n                      placeholder=\"Food Access Partnership\"\n                      readOnly\n                    />\n                  );\n                case \"Bookkeeper\":\n                  return (\n                    <Form.Input\n                      label=\"Affiliated Organization:\"\n                      htmlFor=\"organization\"\n                      value={\"Food Access Partnership\"}\n                      placeholder=\"Food Access Partnership\"\n                      readOnly\n                    />\n                  );\n                default:\n                  return <div />;\n              }\n            })()}\n\n            <Form.Input\n              required\n              id=\"email\"\n              htmlFor=\"email\"\n              label=\"Email\"\n              type=\"email\"\n              placeholder=\"Enter your email address\"\n              value={this.state.email}\n              onInput={evt => this.setState({ email: evt.target.value })}\n            />\n\n            <Form.Input\n              required\n              id=\"pw\"\n              htmlFor=\"password\"\n              label=\"Password\"\n              type=\"password\"\n              placeholder=\"Enter your password\"\n              value={this.state.pw}\n              onInput={evt => this.setState({ pw: evt.target.value })}\n            />\n\n            <Form.Input\n              required\n              id=\"pw_confrim\"\n              htmlFor=\"passwordConfirm\"\n              label=\"Reenter Password\"\n              type=\"password\"\n              placeholder=\"confirm your password\"\n              value={this.state.pw_confirm}\n              onInput={evt => this.setState({ pw_confirm: evt.target.value })}\n            />\n\n            <Button type=\"submit\">Create Account</Button>\n          </Form>\n          <Message attached=\"bottom\" className=\"messageFooter\" info>\n            <Icon name=\"help\" />\n            Already have an account? &nbsp;\n            <Link to={constants.routes.base}>Sign in!</Link>&nbsp;\n          </Message>\n        </Grid.Column>\n      </Responsive>\n    );\n  }\n}\n","import React from \"react\";\nimport firebase from 'firebase/app'\nimport { Form, Button, Grid, Responsive, Message } from 'semantic-ui-react';\nimport \"firebase/auth\";\nimport \"firebase/database\";\n\nexport default class AccountRecovery extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: \"\",\n      errorMessage: false,\n      successMessage: undefined\n    };\n  }\n\n  componentDidMount() {\n    this.authUnsub = firebase.auth().onAuthStateChanged(user => {\n      this.setState({\n        currentUser: user\n      });\n    });\n  }\n\n  componentWillUnmount() {\n    this.authUnsub();\n  }\n\n  handlePasswordReset(evt) {\n    let auth = firebase.auth();\n    this.setState({ errorMessage: undefined });\n    auth\n      .sendPasswordResetEmail(this.state.email)\n      .then( this.setState({\n        successMessage: true,\n        email: \"\"\n      }) )\n      .catch(err => this.setState({\n        errorMessage: err.message \n      }));\n  }\n\n  handleOnUpdate = (e, { width }) => this.setState({ width })\n\n    render() {\n      const { width, successMessage, email } = this.state\n      const colWidth = width >= Responsive.onlyTablet.minWidth ? '6' : '12'\n\n      return (\n        <Responsive as={Grid} fireOnMount onUpdate={this.handleOnUpdate} centered=\"true\" middle columns={1}>\n          <Grid.Column width={colWidth} verticalAlign=\"middle\" textAlign=\"left\">\n            \n            <Message\n              attached='top'\n              header=\"Account Recovery\"\n              content=\"Enter your account email to reset your password.\"\n              className=\"messageHeader\"\n            />\n            \n            <Form \n              className=\"attached fluid segment messageBody\"\n              onSubmit={evt => this.handlePasswordReset(evt)}\n              warning={successMessage}>\n                \n                <Form.Input\n                  required\n                  id=\"email\"\n                  label='Email'\n                  type=\"email\"\n                  placeholder=\"Enter your email address\"\n                  value={this.state.email}\n                  onInput={evt => this.setState({ email: evt.target.value })}\n                />\n\n                <Button type=\"submit\" content='Reset'/>\n\n                <Message\n                  warning\n                  header={\"Thank you\"}\n                  content={\"If that account exists in our system, password reset steps will be sent\"}\n                />\n\n            </Form>\n          </Grid.Column>\n        </Responsive>\n        )\n    }\n}\n","import React from 'react';\nimport { Button, Card, Modal, Confirm } from 'semantic-ui-react';\nimport firebase from 'firebase/app';\n\nexport default class BuckSetListItem extends React.Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            viewModalOpen: false,\n            deleteModalOpen: false\n        }\n    }\n\n    showView = () => this.setState({ viewModalOpen: true })\n\n    open = () => this.setState({ open: true })\n    close = () => this.setState({ open: false })\n\n    deleteBuckSet = () => {\n        let buckSetName = this.props.data.name\n        console.log(\"buck set title \", this.props.data.name)\n        // used to be if(key != '')\n        if(buckSetName && buckSetName !== \"\") {\n            let buckSetRef = firebase.database().ref('buckSets/' + buckSetName)\n            console.log(\"buckSetRef \", buckSetRef)\n\n            buckSetRef.remove()\n            .then(() =>{\n                console.log(\"Remove succeeded.\")\n                this.setState({\n                    deleteModalOpen: false\n                })\n            })\n            .catch((error) => {\n                console.log(\"Remove failed: \" + error.message)\n            });\n        }\n\n        let capstoneBucks = [\n            \"-LgUwC00_cfHr7ATng36\",\n            \"-LgUwC073TuLVb7GEwbd\",\n            \"-LgUwC03B1lvd96j4SEk\",\n            \"-LgUwC02CEocI6-oh70K\",\n            \"-LgUwC01fmb5evqJck9r\",\n            \"-LgUwC062cOmWzEKuVCb\",\n            \"-LgUwC08c93TaO2LbaIC\",\n            \"-LgUwC05_kbA62CmoJpL\",\n            \"-LgUwC08c93TaO2LbaIB\",\n            \"-LgUwC04hqV_WdBArGnR\",\n            \"-LgUwC073TuLVb7GEwbe\",\n            \"-LgUwC03B1lvd96j4SEl\"\n            ]\n\n        let voucherRef = firebase.database().ref('vouchers/')\n        voucherRef.once(\"value\", snapshot => {\n            let deleteCount = 0\n            snapshot.forEach(function(childSnapshot) {\n                if(childSnapshot.buckSet === buckSetName && capstoneBucks.includes(childSnapshot.key)) {\n                    deleteCount++\n                    \n                }\n            })\n            console.log(\"deleteCount\", deleteCount)\n        })\n\n        this.close()\n    }\n\n    viewBuckSet = () => {\n    \n    }\n\n\n\n    render () { \n        const { name, \n                createdBy, \n                data, \n                createdOn, \n                expirationDate,\n                communitycareCount,\n                communitymealsCount,\n                doveCount,\n                foodbankCount,\n                interfaithCount,\n                lacomunidadCount,\n                seniorcenterCount,\n                vashonhouseholdCount,\n                vyfsCount,\n                vyfsfamilyplaceCount,\n                vyfslatinxCount\n             } = this.props.data\n        const { open } = this.state\n\n        let dateObj = new Date(createdOn)\n        let prettyDate = (dateObj.getMonth() + 1) + \"/\" + dateObj.getDate() + \"/\" + dateObj.getFullYear()\n\n        return(\n                <Card fluid>\n                    <Card.Content>\n                        <Card.Header>{name}</Card.Header>\n                        <Card.Meta>{createdBy}</Card.Meta>\n                    </Card.Content>\n\n                    <Card.Content extra>\n                        <Modal trigger={<Button primary content='View'/>}\n                            size=\"small\" \n                            open={this.viewModalOpen} \n                            onClose={this.close} \n                            closeIcon >\n                            <Modal.Header>\"{name}\" Buck Set</Modal.Header>\n                            <Modal.Content>\n                                <p><b>Created by</b> {createdBy}</p>\n                                <p><b>Created on</b> {prettyDate}</p>\n                                <p><b>Expires</b> {expirationDate}</p>\n                                <h4>Counts</h4>\n                                <p>Community Care: {communitycareCount}</p>\n                                <p>Community Meals: {communitymealsCount}</p>\n                                <p>DOVE: {doveCount}</p>\n                                <p>Food Bank: {foodbankCount}</p>\n                                <p>Interfaith Council: {interfaithCount}</p>\n                                <p>La Comunidad: {lacomunidadCount}</p>\n                                <p>Senior Center: {seniorcenterCount}</p>\n                                <p>Vashon Household: {vashonhouseholdCount}</p>\n                                <p>VYFS: {vyfsCount}</p>\n                                <p>VYFS Family Place: {vyfsfamilyplaceCount}</p>\n                                <p>VYFS Latinx Count: {vyfslatinxCount}</p>\n\n                            </Modal.Content>\n                        </Modal>\n\n                        <Button icon=\"trash\" onClick={this.open}/>\n                        <Confirm \n                            size='small' \n                            header={`Are you sure you want to delete ${name} Buck Set?`}\n                            content=\"Doing so will mark all VIGA bucks generated for this set as inactive\"\n                            cancelButton=\"Cancel\"\n                            confirmButton=\"Delete\"\n                            open={this.state.open} \n                            onCancel={this.close} \n                            onConfirm={() => this.deleteBuckSet()} />\n\n                        {/* <Modal trigger={<Button icon='trash'/>} \n                                size=\"mini\" \n                                open={this.deleteModalOpen} \n                                onClose={this.close}\n                                closeIcon >\n                            <Modal.Header>Are you sure you want to delete \"{name}\" Buck Set?</Modal.Header>\n                            <Modal.Content>\n                                <p>Doing so will mark all VIGA bucks generated for this set as inactive</p>\n                                \n                            </Modal.Content>\n                            <Modal.Actions>\n\n                                <Button color=\"red\" onClick={() => this.deleteBuckSet()}  content='Delete' />\n\n                            </Modal.Actions>\n                        </Modal> */}\n                    </Card.Content>\n                </Card>\n        )\n    }\n}\n","import React from \"react\";\nimport BuckSetListItem from \"./BuckSetListItem.jsx\";\nimport { Header, Container, Grid, Card } from \"semantic-ui-react\";\nimport firebase from \"firebase/app\";\n\nexport default class ViewBucks extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      firebaseBuckSet: []\n    };\n  }\n\n  componentDidMount() {\n    let firebaseBuckSet = [];\n\n    let buckSetsRef = firebase.database().ref(\"buckSets\");\n    buckSetsRef.orderByChild(\"createdOn\").on(\"child_added\", snapshot => {\n      const value = snapshot.val();\n      // sort by newest\n      firebaseBuckSet.push({\n        name: value.name,\n        createdBy: value.createdBy,\n        createdOn: value.createdOn,\n        expirationDate: value.expirationDate,\n        communitycareCount: value.communitycareCount,\n        communitymealsCount: value.communitymealsCount,\n        doveCount: value.doveCount,\n        foodbankCount: value.foodbankCount,\n        interfaithCount: value.interfaithCount,\n        lacomunidadCount: value.lacomunidadCount,\n        seniorcenterCount: value.seniorcenterCount,\n        vashonhouseholdCount: value.vashonhouseholdCount,\n        vyfsCount: value.vyfsCount,\n        vyfsfamilyplaceCount: value.vyfsfamilyplaceCount,\n        vyfslatinxCount: value.vyfslatinxCount\n      });\n      this.setState({\n        firebaseBuckSet\n      });\n    });\n\n    console.log(\"in componnent did mount in ViewBucks\");\n    buckSetsRef.orderByChild(\"createdOn\").on(\"child_removed\", snapshot => {\n      const value = snapshot.val();\n      // filter out the removed item and force another render\n      firebaseBuckSet = firebaseBuckSet.filter(\n        el => !(el.title === value.name && el.subtitle === value.createdBy)\n      );\n      this.setState({\n        firebaseBuckSet\n      });\n    });\n  }\n\n  render() {\n    return (\n      <Grid.Column width={6}>\n        <Container>\n          <Header as=\"h2\">Existing Buck Sets</Header>\n          <Card.Group>\n            {//for each item in the data provided, map will create a BuckSetListItem\n            //that has the respective title and subtitle\n            this.state.firebaseBuckSet.map(element => {\n              return (\n                <BuckSetListItem\n                  key={\n                    element.name +\n                    element.createdBy +\n                    element.createdOn +\n                    element.expirationDate +\n                    element.communitycareCount +\n                    element.communitymealsCount +\n                    element.doveCount +\n                    element.foodbankCount +\n                    element.interfaithCount +\n                    element.lacomunidadCount +\n                    element.seniorcenterCount +\n                    element.vashonhouseholdCount +\n                    element.vyfsCount +\n                    element.vyfsfamilyplaceCount +\n                    element.vyfslatinxCount\n                  }\n                  data={element}\n                />\n              );\n            })}\n          </Card.Group>\n        </Container>\n      </Grid.Column>\n    );\n  }\n}\n","import React from \"react\";\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/functions\";\nimport \"firebase/database\";\nimport {\n  Statistic,\n  Header,\n  Button,\n  Divider,\n  Grid,\n  Form,\n  Message,\n  Segment,\n  Container\n} from \"semantic-ui-react\";\nimport pdfMake from \"pdfmake/build/pdfmake\";\nimport pdfFonts from \"pdfmake/build/vfs_fonts\";\npdfMake.vfs = pdfFonts.pdfMake.vfs;\n\nexport default class CreateBucks extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: false,\n      complete: false,\n      hasError: false,\n      errorMessage: \"\"\n    };\n  }\n\n  // return true if validated form data is acceptable, false otherwise\n  validateFormData = async sum => {\n    if (sum <= 0) {\n      this.setState({\n        errorMessage: \"Sum of vouchers in form must be greater than zero.\"\n      });\n      return false;\n    }\n\n    const { buckSetName } = this.props;\n    let buckSetsRef = firebase.database().ref(\"buckSets\");\n    let nameExists = false;\n    // await the results from firebase, once because this should be done only once the function\n    // fires\n    await buckSetsRef\n      .orderByChild(\"name\")\n      .equalTo(buckSetName)\n      .once(\"value\", snapshot => {\n        snapshot.forEach(childSnapshot => {\n          let key = childSnapshot.key;\n          let childData = childSnapshot.val();\n          if (childData.name == buckSetName) {\n            this.setState({\n              errorMessage: \"The buck set name you used already exists.\"\n            });\n            nameExists = true;\n            // the name exists do nothing\n          }\n        });\n      });\n    if (!nameExists) {\n      this.props.toggleShowCreateBucks();\n    }\n  };\n\n  render() {\n    const { loading, errorMessage } = this.state;\n    let sum =\n      this.props.foodbankCount +\n      this.props.doveCount +\n      this.props.communitycareCount +\n      this.props.seniorcenterCount +\n      this.props.interfaithCount +\n      this.props.communitymealsCount +\n      this.props.vashonhouseholdCount +\n      this.props.lacomunidadCount +\n      this.props.vyfsCount +\n      this.props.vyfslatinxCount +\n      this.props.vyfsfamilyplaceCount;\n\n    return (\n      <Grid.Column width={10} >\n\n        <Segment className=\"master_modal_container\">\n\n        <Container className=\"modal_container\">\n          <Form\n            // onSubmit={this.handleSubmit}\n            onSubmit={this.validateFormData}\n            loading={loading}\n            error={errorMessage}>\n\n            <Form.Input\n              inline\n              required\n              fluid\n              transparent\n              size=\"massive\"\n              placeholder=\"Buck Set Name\"\n              value={this.props.buckSetName}\n              onInput={evt =>\n                this.props.handleChange({ buckSetName: evt.target.value })\n              }\n              className=\"buck_set_name_input\"\n            />\n\n            <Form.Input\n              width={9}\n              inline\n              required\n              fluid\n              label=\"Expiration Date\"\n              type=\"date\"\n              className=\"expiration_date_container\"\n              value={this.props.expirationDate}\n              onInput={evt =>\n                this.props.handleChange({ \n                  expirationDate: evt.target.value \n                })\n              }\n            />\n\n            <Header as=\"h5\" color=\"grey\" textAlign=\"left\">\n              BUCK ALLOCATION\n            </Header>\n\n            <Statistic.Group widths=\"two\" className=\"statistics_big_numbers\">\n              <Statistic>\n                <Statistic.Value className=\"statistic_number\">{sum * 1}</Statistic.Value>\n                <Statistic.Label>VIGA Bucks</Statistic.Label>\n              </Statistic>\n              <Statistic>\n                <Statistic.Value className=\"statistic_number\">${2 * sum}.00</Statistic.Value>\n                <Statistic.Label>Dollars</Statistic.Label>\n              </Statistic>\n            </Statistic.Group>\n\n            <Divider hidden />\n\n            <Form.Input\n              width={16}\n              inline\n              size=\"mini\"\n              fluid\n              label=\"Vashon Community Food Bank\"\n              placeholder={0}\n              type=\"number\"\n              onInput={evt =>\n                this.props.handleChange({\n                  foodbankCount: Number(evt.target.value)\n                })\n              }\n              min={0}\n            />  \n\n            <Form.Input\n              width={16}\n              inline\n              size=\"mini\"\n              fluid\n              label=\"DoVE\"\n              placeholder={0}\n              type=\"number\"\n              onInput={evt =>\n                this.props.handleChange({\n                  doveCount: Number(evt.target.value)\n                })\n              }\n              min={0}\n            />\n\n            <Form.Input\n              width={16}\n              inline\n              size=\"mini\"\n              fluid\n              label=\"Vashon Community Care\"\n              placeholder={0}\n              type=\"number\"\n              onInput={evt =>\n                this.props.handleChange({\n                  communitycareCount: Number(evt.target.value)\n                })\n              }\n              min={0}\n            />     \n\n            <Form.Input\n              width={16}\n              inline\n              size=\"mini\"\n              fluid\n              label=\"Vashon Senior Center\"\n              placeholder={0}\n              type=\"number\"\n              onInput={evt =>\n                this.props.handleChange({\n                  seniorcenterCount: Number(evt.target.value)\n                })\n              }\n              min={0}\n            />\n\n            <Form.Input\n              width={16}\n              inline\n              size=\"mini\"\n              fluid\n              label=\"Interfaith Council to Prevent Homelessness\"\n              placeholder={0}\n              type=\"number\"\n              onInput={evt =>\n                this.props.handleChange({\n                  interfaithCount: Number(evt.target.value)\n                })\n              }\n              min={0}\n            />\n\n            <Form.Input\n              width={16}\n              inline\n              size=\"mini\"\n              fluid\n              label=\"Community Meals\"\n              placeholder={0}\n              type=\"number\"\n              onInput={evt =>\n                this.props.handleChange({\n                  communitymealsCount: Number(evt.target.value)\n                })\n              }\n              min={0}\n            />\n\n            <Form.Input\n              width={16}\n              inline\n              size=\"mini\"\n              fluid\n              label=\"Vashon Household\"\n              placeholder={0}\n              type=\"number\"\n              onInput={evt =>\n                this.props.handleChange({\n                  vashonhouseholdCount: Number(evt.target.value)\n                })\n              }\n              min={0}\n            />\n\n            <Form.Input\n              width={16}\n              inline\n              size=\"mini\"\n              fluid\n              label=\"La Communidad \\ ECEAP\"\n              placeholder={0}\n              type=\"number\"\n              onInput={evt =>\n                this.props.handleChange({ \n                  lacomunidadCount: Number(evt.target.value) \n                })\n              }\n              min={0}\n            />\n\n            <Form.Input\n              width={16}\n              inline\n              size=\"mini\"\n              fluid\n              label=\"VYFS\"\n              placeholder={0}\n              type=\"number\"\n              onInput={evt =>\n                this.props.handleChange({ \n                  vyfsCount: Number(evt.target.value) \n                })\n              }\n              min={0}\n            />\n\n            <Form.Input\n              width={16}\n              inline\n              size=\"mini\"\n              fluid\n              label=\"VYFS: Latinx\"\n              placeholder={0}\n              type=\"number\"\n              onInput={evt =>\n                this.props.handleChange({ \n                  vyfslatinxCount: Number(evt.target.value) \n                })\n              }\n              min={0}\n            />\n\n            <Form.Input\n              width={16}\n              inline\n              size=\"mini\"\n              fluid\n              label=\"VYFS: Family Place\"\n              placeholder={0}\n              type=\"number\"\n              onInput={evt =>\n                this.props.handleChange({ \n                  vyfsfamilyplaceCount: Number(evt.target.value) \n                })\n              }\n              min={0}\n            />      \n\n            <Divider hidden />\n\n            {<Button color=\"blue\">Next Step</Button>}\n\n            <Message\n              error\n              header={errorMessage}\n              content={\"form not submitted\"}\n            />\n          </Form>\n          </Container>\n        </Segment>\n      </Grid.Column>\n    );\n  }\n}\n","import React from \"react\";\nimport \"firebase/auth\";\nimport \"firebase/functions\";\nimport \"firebase/database\";\nimport firebase from \"firebase/app\";\nimport {\n  Statistic,\n  Progress,\n  Header,\n  Divider,\n  Button,\n  Grid,\n  Segment\n} from \"semantic-ui-react\";\nimport bgImg from \"../farmBuckEnglish.jpg\";\nimport bgImgSP from \"../farmBuckSpanish.jpg\";\nimport pdfMake from \"pdfmake/build/pdfmake\";\nimport pdfFonts from \"pdfmake/build/vfs_fonts\";\npdfMake.vfs = pdfFonts.pdfMake.vfs;\n\nconst orgID = {\n  foodbank: \"A-1\",\n  dove: \"A-2\",\n  vcc: \"A-3\",\n  seniorcenter: \"A-4\",\n  interfaith: \"A-5\",\n  communitymeals: \"A-6\",\n  vashonhousehold: \"A-7\",\n  lacomunidad: \"A-8\",\n  vyfs: \"A-9\",\n  vyfslatinx: \"A-10\",\n  vyfsfamily: \"A-11\"\n};\n\nexport default class FormSuccess extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: false,\n      progressLabel: \"generating PDF...\",\n      downloadComplete: false,\n      percent: 20\n    };\n  }\n\n  toDataURL = (src, callback, outputFormat) => {\n    var img = new Image();\n    img.crossOrigin = \"Anonymous\";\n    img.onload = function() {\n      var canvas = document.createElement(\"CANVAS\");\n      var ctx = canvas.getContext(\"2d\");\n      var dataURL;\n      canvas.height = this.naturalHeight;\n      canvas.width = this.naturalWidth;\n      ctx.drawImage(this, 0, 0);\n      dataURL = canvas.toDataURL(outputFormat);\n      callback(dataURL)\n    };\n    img.src = src;\n    if (img.complete || img.complete === undefined) {\n      img.src =\n        \"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==\";\n      img.src = src;\n    }\n  }\n\n  createPDF(data, dataURL, dataURLSP) {\n    let ids = data.ids;\n    let expirationDate = data.expirationDate;\n    let dateObj = new Date(expirationDate)\n    let year = expirationDate.split('-')[0]\n\n    var documentDefinition = {\n      content: []\n    };\n\n    documentDefinition.pageSize = \"LETTER\";\n\n    // PDF VARIABLES(in mm):\n\n    var count = 1;\n\n    for (var i = 0; i < ids.length; i++) {\n      let id = ids[i];\n      let pOrgID = orgID[id.partnerOrg];\n      let code = id.id;\n      let qr;\n      let exp = {\n        text: \"Expires: \" + expirationDate,\n        absolutePosition: { x: 395, y: 198 * (i % 4) + 141 },\n        fontSize: 7,\n        color: \"white\",\n        bold: true\n      };\n      let yearText = {\n        text: year,\n        absolutePosition: { x: 391, y: 198 * (i % 4) + 171 },\n        fontSize: 4,\n        color: \"#5f605f\",\n        bold: true\n      };\n      let coupon = {\n        image: dataURL,\n        height: 198,\n        width: 455,\n        absolutePosition: { x: 78.5, y: 198 * (i % 4) }\n      };\n      let org = {\n        text: pOrgID,\n        absolutePosition: { x: 386, y: 198 * (i % 4) + 158 },\n        fontSize: 12,\n        color: \"#5f605f\",\n        bold: true\n      };\n\n      documentDefinition.content.push(coupon);\n      documentDefinition.content.push(exp);\n      documentDefinition.content.push(org);\n      documentDefinition.content.push(yearText);\n\n      if (count % 4 === 0 || count === ids.length) {\n        qr = {\n          qr: code,\n          fit: 50,\n          absolutePosition: { x: 390, y: 198 * (i % 4) + 44 },\n          pageBreak: \"after\"\n        };\n        documentDefinition.content.push(qr);\n        if (count % 4 === 0) {\n          if (count === ids.length) {\n            this.generateSpanishPage(documentDefinition, dataURLSP, 4, true);\n          } else {\n            this.generateSpanishPage(documentDefinition, dataURLSP, 4, false);\n          }\n        } else {\n          if (count === ids.length) {\n            this.generateSpanishPage(\n              documentDefinition,\n              dataURLSP,\n              count % 4,\n              true\n            );\n          } else {\n            this.generateSpanishPage(\n              documentDefinition,\n              dataURLSP,\n              count % 4,\n              false\n            );\n          }\n        }\n      } else {\n        qr = {\n          qr: code,\n          fit: 50,\n          absolutePosition: { x: 390, y: 198 * (i % 4) + 44 }\n        };\n        documentDefinition.content.push(qr);\n      }\n      count++;\n    }\n\n    documentDefinition.pageMargins = [0, 0, 0, 0];\n\n    return documentDefinition;\n  }\n\n  generateSpanishPage(doc, spURL, count, end) {\n    for (let i = 0; i < count - 1; i++) {\n      let coupon = {\n        image: spURL,\n        height: 198,\n        width: 455,\n        absolutePosition: { x: 78.5, y: 198 * (i % 4) }\n      };\n      doc.content.push(coupon);\n    }\n    if (end) {\n      doc.content.push({\n        image: spURL,\n        height: 198,\n        width: 455,\n        absolutePosition: { x: 78.5, y: 198 * (count - 1) }\n      });\n    } else {\n      doc.content.push({\n        image: spURL,\n        height: 198,\n        width: 455,\n        absolutePosition: { x: 78.5, y: 198 * (count - 1) },\n        pageBreak: \"after\"\n      });\n    }\n  }\n\n  postVoucherData(organization, count, ids) {\n    let updates = {};\n\n    for (let i = 0; i < count; i++) {\n      let voucherData = {\n        organization,\n        createdOn: new Date(),\n        expirationDate: this.props.expirationDate,\n        buckSet: this.props.buckSetName\n      };\n\n      let newVoucherKey = firebase\n        .database()\n        .ref()\n        .child(\"vouchers\")\n        .push().key;\n      ids.push({ partnerOrg: organization, id: newVoucherKey });\n\n      firebase\n        .database()\n        .ref()\n        .child(\"vis2/\" + organization + \"/created/\")\n        .update({\n          [newVoucherKey]: new Date()\n        });\n\n      updates[\"/vouchers/\" + newVoucherKey] = voucherData;\n    }\n\n    return firebase\n      .database()\n      .ref()\n      .update(updates);\n  }\n\n  // On submit of the Create Voucher form the function saves given data to\n  // Firebase and calls postData to Google Cloud Function to generate pdf\n  handleSubmit = async event => {\n    event.preventDefault();\n    const {\n      foodbankCount,\n      doveCount,\n      communitycareCount,\n      seniorcenterCount, \n      interfaithCount,\n      communitymealsCount,\n      vashonhouseholdCount,\n      lacomunidadCount,\n      vyfsCount,\n      vyfslatinxCount,\n      vyfsfamilyplaceCount,\n    } = this.props;\n\n    this.setState({\n      isLoading: true\n    });\n\n    // DB has a table of buckSets\n    // DB has a table of individual vouchers/{key}/\n\n    // Add the new buck set to the list of buckSets in Firebase\n    const promiseFromFirebase = firebase\n      .database()\n      .ref()\n      .child(\"buckSets/\" + this.props.buckSetName)\n      .update({\n        name: this.props.buckSetName,\n        createdOn: new Date(),\n        createdBy: this.props.username,\n        expirationDate: this.props.expirationDate,\n        foodbankCount: this.props.foodbankCount,\n        doveCount: this.props.doveCount,\n        communitycareCount: this.props.communitycareCount,\n        seniorcenterCount: this.props.seniorcenterCount,\n        interfaithCount: this.props.interfaithCount,\n        communitymealsCount: this.props.communitymealsCount,\n        vashonhouseholdCount: this.props.vashonhouseholdCount,\n        lacomunidadCount: this.props.lacomunidadCount,\n        vyfsCount: this.props.vyfsCount,\n        vyfslatinxCount: this.props.vyfslatinxCount,\n        vyfsfamilyplaceCount: this.props.vyfsfamilyplaceCount\n      });\n\n    promiseFromFirebase\n      .then(_data => {\n        console.log(\"Buckset upload passed\");\n        this.setState({\n          percent: 50\n        })\n      })\n      .catch(err => {\n        console.log(\"Buckset upload failed with: \", err);\n      });\n\n    //post the data, wait on each one to resolve\n    let ids = [];\n    let promises = [\n      this.postVoucherData(\"foodbank\", foodbankCount, ids),\n      this.postVoucherData(\"dove\", doveCount, ids),\n      this.postVoucherData(\"vcc\", communitycareCount, ids),\n      this.postVoucherData(\"seniorcenter\", seniorcenterCount, ids),\n      this.postVoucherData(\"interfaith\", interfaithCount, ids),\n      this.postVoucherData(\"communitymeals\", communitymealsCount, ids),\n      this.postVoucherData(\"vashonhousehold\", vashonhouseholdCount, ids),\n      this.postVoucherData(\"lacomunidad\", lacomunidadCount, ids),\n      this.postVoucherData(\"vyfs\", vyfsCount, ids),\n      this.postVoucherData(\"vyfslatinx\", vyfslatinxCount, ids),\n      this.postVoucherData(\"vyfsfamily\", vyfsfamilyplaceCount, ids),\n    ]\n    // prepare data for post to Google Cloud Function\n    let data = {\n      expirationDate: this.props.expirationDate,\n      ids\n    };\n\n    Promise.all(promises)\n      .then(_doesPass => {\n        this.toDataURL(bgImgSP, dataUrlSP => {\n          this.toDataURL(bgImg, dataUrl => {\n            let documentDefinition = this.createPDF(data, dataUrl, dataUrlSP);\n            pdfMake\n              .createPdf(documentDefinition)\n              .download(this.props.buckSetName + \".pdf\", () => {\n                this.setState({\n                  complete: true,\n                  progressLabel: \"Complete!\",\n                  downloadComplete: true,\n                  percent: 100,\n                  errorMessage: \"\"\n                }, () => {\n                  setTimeout(\n                    () => {\n                      this.setState({\n                        isLoading: true\n                      })\n                    }, \n                    5000\n                  )\n                }\n                );\n              })\n          });\n        })\n    }).catch(err => {\n        console.log(\"Error on firebase request\", err);\n        this.setState({\n          errorMessage: \"Error on firebase request\",\n          isLoading: false\n        });\n      })\n  };\n\n  render() {\n    const { toggleShowCreateBucks } = this.props\n    const { progressLabel, downloadComplete } = this.state\n\n    let sum =\n      this.props.foodbankCount +\n      this.props.doveCount +\n      this.props.communitycareCount +\n      this.props.seniorcenterCount + \n      this.props.interfaithCount +\n      this.props.communitymealsCount +\n      this.props.vashonhouseholdCount +\n      this.props.lacomunidadCount +\n      this.props.vyfsCount +\n      this.props.vyfslatinxCount +\n      this.props.vyfsfamilyplaceCount\n\n    console.log('loading = ', this.state.isLoading)\n    return (\n      <Grid.Column width={10}>\n        <Segment\n          raised\n          style={{\n            paddingTop: \"30px\",\n            paddingRight: \"40px\",\n            paddingLeft: \"40px\"\n          }}\n        >\n          <Header as=\"h1\" textAlign=\"left\">\n            Success!\n            <Header.Subheader>\n              \"{this.props.buckSetName}\" Buck Set Created\n            </Header.Subheader>\n          </Header>\n          <Header as=\"h5\" color=\"grey\" textAlign=\"left\">\n            BUCK ALLOCATION\n          </Header>\n          <table className=\"ui very basic table\">\n            <tbody>\n            <tr>\n                <td>Vashon Community Food Bank</td>\n                <td>{this.props.foodbankCount} bucks</td>\n                <td>${this.props.foodbankCount * 2}.00</td>\n              </tr>\n              <tr>\n                <td>DoVE</td>\n                <td>{this.props.doveCount} bucks</td>\n                <td>${this.props.doveCount * 2}.00</td>\n              </tr>\n              <tr>\n                <td>Vashon Community Care</td>\n                <td>{this.props.communitycareCount} bucks</td>\n                <td>${this.props.communitycareCount * 2}.00</td>\n              </tr>\n              <tr>\n                <td>Vashon Senior Center</td>\n                <td>{this.props.seniorcenterCount} bucks</td>\n                <td>${this.props.seniorcenterCount * 2}.00</td>\n              </tr>\n              <tr>\n                <td>Interfaith Council to Prevent Homelessness</td>\n                <td>{this.props.interfaithCount} bucks</td>\n                <td>${this.props.interfaithCount * 2}.00</td>\n              </tr>\n              <tr>\n                <td>Community Meals</td>\n                <td>{this.props.communitymealsCount} bucks</td>\n                <td>${this.props.communitymealsCount * 2}.00</td>\n              </tr>\n              <tr>\n                <td>Vashon Household</td>\n                <td>{this.props.vashonhouseholdCount} bucks</td>\n                <td>${this.props.vashonhouseholdCount * 2}.00</td>\n              </tr>\n              <tr>\n                <td>La Communidad \\ ECEAP</td>\n                <td>{this.props.lacomunidadCount} bucks</td>\n                <td>${this.props.lacomunidadCount * 2}.00</td>\n              </tr>\n              <tr>\n                <td>VYFS</td>\n                <td>{this.props.vyfsCount} bucks</td>\n                <td>${this.props.vyfsCount * 2}.00</td>\n              </tr>\n              <tr>\n                <td>VYFS: Latinx</td>\n                <td>{this.props.vyfslatinxCount} bucks</td>\n                <td>${this.props.vyfslatinxCount * 2}.00</td>\n              </tr>\n              <tr>\n                <td>VYFS: Family Place</td>\n                <td>{this.props.vyfsfamilyplaceCount} bucks</td>\n                <td>${this.props.vyfsfamilyplaceCount * 2}.00</td>\n              </tr>\n            </tbody>\n          </table>\n\n          <Header as=\"h5\" color=\"grey\" textAlign=\"left\">\n            EXPIRATION DATE\n          </Header>\n          <p>{this.props.expirationDate}</p>\n\n          <Divider hidden />\n\n          <Statistic.Group widths=\"two\">\n            <Statistic>\n              <Statistic.Value>{sum * 1}</Statistic.Value>\n              <Statistic.Label>VIGA Bucks</Statistic.Label>\n            </Statistic>\n            <Statistic>\n              <Statistic.Value>${2 * sum}.00</Statistic.Value>\n              <Statistic.Label>Dollars</Statistic.Label>\n            </Statistic>\n          </Statistic.Group>\n\n          <Divider hidden />\n\n\n\n          {\n            this.state.isLoading ?\n            <Progress percent={this.state.percent} active color='blue' success={downloadComplete} label={progressLabel}/> \n            : \n            <Button.Group>\n              <Button content=\"Generate PDF for Print\" onClick={this.handleSubmit} />\n              <Button.Or />\n              <Button content=\"Discard Buck Set\" onClick={toggleShowCreateBucks} />\n            </Button.Group>\n          }\n        </Segment>\n      </Grid.Column>\n    );\n  }\n}\n","import React from \"react\";\nimport ViewBucks from \"./ViewBucks\";\nimport CreateBucks from \"./CreateBucks\";\nimport { Grid, Container } from \"semantic-ui-react\";\nimport FormSuccess from \"./FormSuccess\";\n\nexport default class BucksLanding extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showCreateBucks: true,\n      buckSetName: \"\",\n      foodbankCount: 0,\n      doveCount: 0,\n      communitycareCount: 0,\n      seniorcenterCount: 0,\n      interfaithCount: 0,\n      communitymealsCount: 0,\n      vashonhouseholdCount: 0,\n      lacomunidadCount: 0,\n      vyfsCount: 0,\n      vyfslatinxCount: 0,\n      vyfsfamilyplaceCount: 0,\n      expirationDate: \"\"\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.toggleShowCreateBucks = this.toggleShowCreateBucks.bind(this);\n  }\n\n  handleChange(newState) {\n    this.setState(newState);\n  }\n\n  toggleShowCreateBucks(_event) {\n    this.setState({\n      showCreateBucks: !this.state.showCreateBucks\n    });\n  }\n\n  render() {\n    return (\n      <Container>\n        <Grid stackable centered>\n          <Grid.Row>\n            {this.state.showCreateBucks ? (\n              <CreateBucks\n                toggleShowCreateBucks={this.toggleShowCreateBucks}\n                handleChange={this.handleChange}\n                buckSetName={this.state.buckSetName}\n                username={this.props.username}\n                foodbankCount={this.state.foodbankCount}\n                doveCount={this.state.doveCount}\n                communitycareCount={this.state.communitycareCount}\n                seniorcenterCount={this.state.seniorcenterCount}\n                interfaithCount={this.state.interfaithCount}\n                communitymealsCount={this.state.communitymealsCount}\n                vashonhouseholdCount={this.state.vashonhouseholdCount}\n                lacomunidadCount={this.state.lacomunidadCount}\n                vyfsCount={this.state.vyfsCount}\n                vyfslatinxCount={this.state.vyfslatinxCount}\n                vyfsfamilyplaceCount={this.state.vyfsfamilyplaceCount}\n                expirationDate={this.state.expirationDate}\n              />\n            ) : (\n              <FormSuccess\n                toggleShowCreateBucks={this.toggleShowCreateBucks}\n                buckSetName={this.state.buckSetName}\n                username={this.props.username}\n                foodbankCount={this.state.foodbankCount}\n                doveCount={this.state.doveCount}\n                communitycareCount={this.state.communitycareCount}\n                seniorcenterCount={this.state.seniorcenterCount}\n                interfaithCount={this.state.interfaithCount}\n                communitymealsCount={this.state.communitymealsCount}\n                vashonhouseholdCount={this.state.vashonhouseholdCount}\n                lacomunidadCount={this.state.lacomunidadCount}\n                vyfsCount={this.state.vyfsCount}\n                vyfslatinxCount={this.state.vyfslatinxCount}\n                vyfsfamilyplaceCount={this.state.vyfsfamilyplaceCount}\n                expirationDate={this.state.expirationDate}\n              />\n            )}\n            <ViewBucks />\n          </Grid.Row>\n        </Grid>\n      </Container>\n    );\n  }\n}\n","import React from \"react\";\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/database\";\nimport QrReader from \"react-qr-reader\";\nimport {\n  Segment,\n  Message,\n  Header,\n  Responsive,\n  Loader,\n  Dimmer,\n  Container,\n  SegmentGroup,\n  Grid\n} from \"semantic-ui-react\";\nexport default class Scan extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      legacyMode: false,\n      invalidScan: false,\n      scanState: \"\",\n      qrCode: \"\",\n      loading: false\n    };\n  }\n\n  // Checks that the data is a valid string\n  // AKA: handles if a non-VIGA QR code is scanned\n  isValid(str) {\n    return /[^.#$[\\]]/.test(str);\n  }\n\n  handleScan = data => {\n    if (data) {\n      // There is some data on the QR code\n      console.log(\"data \", data);\n      this.setState({\n        loading: true\n      });\n      if (this.isValid(data)) {\n        firebase\n          .database()\n          .ref(\"vouchers/\")\n          .child(data)\n          .once(\"value\", snapshot => {\n            if (snapshot.exists()) {\n              console.log(\"This ID exists.\");\n              //The data is an id that we created\n              this.populateUserData(data);\n              this.populateVisData(data);\n            } else {\n              // the snapshot does not exist\n              // logically, this buck has been deleted or is not a real buck\n              this.setState({ scanState: \"scanError\", loading: false });\n            }\n          })\n          .catch(err => {\n            console.log(\"Firebase voucher lookup err:\", err);\n            this.setState({ loading: false });\n          });\n      } else {\n        console.log(\"bad path\");\n        this.setState({\n          invalidScan: true,\n          scanState: \"scanError\",\n          loading: false\n        });\n      }\n    }\n  };\n\n  delayedStopLoading = () => {\n    setTimeout(() => {\n      this.setState({\n        loading: false\n      });\n    }, 2000);\n  };\n\n  populateVisData = async data => {\n    console.log(\"In the populate data branch\");\n    var redeemDate = new Date();\n    let vizRef = firebase\n      .database()\n      .ref()\n      .child(\"vis1/\" + this.props.userId);\n\n    if (this.props.role === \"farmer\") {\n      vizRef.update({\n        [data]: redeemDate\n      });\n\n      firebase\n        .database()\n        .ref(\"vouchers/\" + data)\n        .once(\"value\")\n        .then(function(snapshot) {\n          var org = snapshot.val().organization;\n          firebase\n            .database()\n            .ref()\n            .child(\"vis2/\" + org + \"/redeemed/\")\n            .update({\n              [data]: redeemDate\n            });\n        });\n    } else if (this.props.role === \"caseworker\") {\n      firebase\n        .database()\n        .ref(\"vouchers/\" + data)\n        .once(\"value\")\n        .then(function(snapshot) {\n          var org = snapshot.val().organization;\n          firebase\n            .database()\n            .ref()\n            .child(\"vis2/\" + org + \"/handedOut/\")\n            .update({\n              [data]: redeemDate\n            });\n        });\n    }\n  };\n\n  // If expired, farmers are instructed to complete submission in person, nothing is added to the database\n  // caseworkers are instructed to recycle if they try to scan an expired buck.\n  populateUserData = data => {\n    let scanState = \"\";\n    let voucherRef = firebase.database().ref(\"vouchers/\" + data);\n\n    let userRef = firebase.database().ref(\"users/\" + this.props.userId);\n\n    if (this.props.role === \"farmer\") {\n      // if they are a farmer, fill in the \"redeemedOn\" field on voucher object to the current time\n      let redeemedOnRef = firebase\n        .database()\n        .ref(\"vouchers/\" + data + \"/redeemedOn\");\n      redeemedOnRef.once(\"value\", snapshot => {\n        if (!snapshot.val()) {\n          //if it is null, there is no entry for redeemedOn, the voucher hasn't yet been redeemed\n          let redeemDate = new Date();\n          // this is necessary to get the expiration date\n          voucherRef.once(\"value\", snapshotInner => {\n            let expirationDate = new Date(snapshotInner.val().expirationDate);\n            if (redeemDate.getTime() <= expirationDate.getTime()) {\n              //not expired - success: add to database\n              voucherRef.update({\n                redeemedOn: redeemDate\n              });\n              // add the voucher id to the user's list of associated ids\n              userRef.child(\"vouchersList\").update({\n                [data]: \"notPaid\"\n              });\n              console.log(\"in the success statement\");\n              scanState = \"success\";\n            } else {\n              //expired - calls for farmer to redeem in person\n              console.log(\"in the expired statement\");\n              scanState = \"expiredFarmer\";\n            }\n            this.setState({ scanState }, this.delayedStopLoading);\n          });\n        } else {\n          console.log(\n            \".val() already exists, setting state to already redeemed\"\n          );\n          //if it is not null, the voucher has already been redeemed\n          scanState = \"alreadyRedeemed\";\n          this.setState({ scanState }, this.delayedStopLoading);\n        }\n      });\n    } else if (this.props.role === \"caseworker\") {\n      // if they are a caseworker, fill in the \"handedOutOn\" field on voucher object to the current time\n      let handedOutRef = firebase\n        .database()\n        .ref(\"vouchers/\" + data + \"/handedOutOn\");\n\n      handedOutRef.once(\"value\", snapshot => {\n        if (!snapshot.val()) {\n          //if it is null there is no entry for handedOutOn, the voucher hasn't yet been handed out\n          let handedOutDate = new Date();\n\n          // this is necessary to get the expiration date\n          voucherRef.once(\"value\", snapshot => {\n            let expirationDate = new Date(snapshot.val().expirationDate);\n            if (handedOutDate.getTime() <= expirationDate.getTime()) {\n              //the voucher is not expired, success: add to database\n              voucherRef.update({\n                handedOutOn: handedOutDate\n              });\n              userRef.child(\"vouchersList\").update({\n                [data]: \"true\"\n              });\n              console.log(\"in the success statement\");\n              scanState = \"success\";\n            } else {\n              //the voucher is expired, do not add to database\n              console.log(\"in the expired statement\");\n              scanState = \"expiredCaseworker\";\n            }\n            this.setState({ scanState }, this.delayedStopLoading);\n          });\n        } else {\n          // if it is not null, the voucher has already been redeemed\n          // caseworkers may still hand out vouchers that have been handed out before\n          // just without scanning them\n          scanState = \"alreadyHanded\";\n          this.setState({ scanState }, this.delayedStopLoading);\n        }\n      });\n    } else {\n      // not caseworker or farmer -> account does not support scanning\n      this.setState(\n        {\n          scanState: \"accountIssue\"\n        },\n        this.delayedStopLoading\n      );\n    }\n  };\n\n  showResponseMessage = scanState => {\n    switch (scanState) {\n      case \"success\":\n        return (\n          <Message\n            positive\n            attached=\"bottom\"\n            icon=\"thumbs up\"\n            header=\"Success!\"\n            content=\"This buck has been submitted! Feel free to recycle or keep for your records.\"\n          />\n        );\n      case \"expiredFarmer\":\n        return (\n          <Message\n            warning\n            attached=\"bottom\"\n            icon=\"calendar times outline\"\n            header=\"Expired\"\n            content=\"You may still receive compensation, please submit to a FAP organizer in person.\"\n          />\n        );\n      case \"alreadyRedeemed\":\n        return (\n          <Message\n            negative\n            attached=\"bottom\"\n            icon=\"x\"\n            header=\"Previously submitted\"\n            content=\"This buck has already been submitted.\"\n          />\n        );\n      case \"scanError\":\n        return (\n          <Message\n            warning\n            attached=\"bottom\"\n            icon=\"frown\"\n            header=\"Error scanning\"\n            content=\"Make sure you have a valid buck, then try again.\"\n          />\n        );\n      case \"alreadyHanded\":\n        return (\n          <Message\n            negative\n            attached=\"bottom\"\n            icon=\"x\"\n            header=\"Previously handed out\"\n            content='This buck has been \"handed out\" before, no need to scan again.'\n          />\n        );\n      case \"accountIssue\":\n        return (\n          <Message\n            warning\n            attached=\"bottom\"\n            icon=\"!\"\n            header=\"Error\"\n            content=\"Your account does not support scanning.\"\n          />\n        );\n      case \"expiredCaseworker\":\n        return (\n          <Message\n            warning\n            attached=\"bottom\"\n            icon=\"calendar times outline\"\n            header=\"This buck is expired\"\n            content=\"Please recycle this VIGA farm buck.\"\n          />\n        );\n      default:\n        return <div />;\n    }\n  };\n\n  handleError = err => {\n    console.error(err);\n    this.setState({\n      legacyMode: true\n    });\n  };\n\n  render() {\n    let scanner;\n    const { scanState, loading } = this.state;\n\n    if (this.state.legacyMode) {\n      scanner = (\n        <QrReader\n          delay={3000}\n          onError={this.handleError}\n          onScan={this.handleScan}\n          legacyMode\n        />\n      );\n    } else {\n      scanner = (\n        <QrReader\n          delay={3000}\n          onError={this.handleError}\n          onScan={this.handleScan}\n        />\n      );\n    }\n\n    return (\n      <div>\n        {/* Regular View */}\n        <Responsive as={Grid} centered minWidth={768}>\n          <Grid.Row>\n            <Segment basic>\n              {loading && (\n                <Dimmer active inverted>\n                  <Loader size={\"medium\"} />\n                </Dimmer>\n              )}\n              {!loading && this.showResponseMessage(scanState)}\n            </Segment>\n          </Grid.Row>\n          <Grid.Row>\n            <Grid.Column width={6}>\n              <Segment>{scanner}</Segment>\n            </Grid.Column>\n            <Grid.Column width={6}>\n              <Segment basic>\n                <Header as=\"h2\">How to Scan</Header>\n                <p>\n                  1. Make sure to allow this site to use your camera for\n                  scanning.\n                </p>\n                <p>\n                  2. Have your Farm Buck(s) in hand and center QR code in the\n                  camera view.\n                </p>\n                <p>\n                  3. You'll see a message informing you the scan is successful!\n                  Keep the buck for your records.\n                </p>\n              </Segment>\n            </Grid.Column>\n          </Grid.Row>\n        </Responsive>\n\n        {/* Mobile View */}\n        <Responsive as={Container} fluid maxWidth={767}>\n          {/* <Button onClick={() => this.handleScan('-LfzLzCkhhIL-fGnkuqh')}> CLICK ME </Button> */}\n\n          <SegmentGroup>\n            <Segment attached=\"top\">{scanner}</Segment>\n            <Segment basic attached=\"bottom\">\n              {loading && (\n                <Dimmer active inverted>\n                  <Loader size={\"mini\"} />\n                </Dimmer>\n              )}\n              {!loading && this.showResponseMessage(scanState)}\n            </Segment>\n          </SegmentGroup>\n\n          <Segment basic>\n            <Header as=\"h2\">How to Scan</Header>\n            <p>\n              1. Make sure to allow this site to use your camera for scanning.\n            </p>\n            <p>\n              2. Have your Farm Buck(s) in hand and center QR code in the camera\n              view.\n            </p>\n            <p>\n              3. You'll see a message informing you the scan is successful! Keep\n              the buck for your records.\n            </p>\n          </Segment>\n        </Responsive>\n      </div>\n    );\n  }\n}","import React from \"react\";\nimport firebase from \"firebase\";\nimport { Table, Icon, Header, Button, Confirm, Responsive} from \"semantic-ui-react\";\n\nexport default class Account extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      role: \"\"\n    };\n  }\n\n  handlePurge() {\n    console.log(\"in purge function\")\n    var deleteUser = firebase.functions().httpsCallable(\"deleteUser\");\n    deleteUser({ email: this.props.acctSnapshot.val().email }).then(result => {\n      console.log(result);\n    });\n    this.props.acctRef.child(this.props.acctSnapshot.key).remove();\n    this.close()\n  }\n\n  handleApprove() {\n    let acct = this.props.acctSnapshot.val();\n    this.props.acctRef.child(this.props.acctSnapshot.key).update({\n      approved: true\n    });\n    var changeRole = firebase.functions().httpsCallable(\"changeRole\");\n    changeRole({\n      email: acct.email,\n      role: acct.role\n    }).then(result => {\n      console.log(result);\n    });\n  }\n\n  open = () => {\n    console.log(\"in open function\")\n    this.setState({ open: true })\n  }\n\n  close = () => {\n    console.log(\"in close function\")\n    this.setState({ open: false })\n  }\n\n  handleOnUpdate = (e, { width }) => this.setState({ width })\n\n  render() {\n    // let user = firebase.auth().currentUser;\n    let acct = this.props.acctSnapshot.val();\n    let appEl;\n\n    if (acct.approved) {\n      appEl = (\n        <Table.Cell>\n          <Icon name=\"checkmark\" />\n          Approved\n        </Table.Cell>\n      );\n    } else {\n      appEl = (\n        <Table.Cell>\n          <Icon name=\"attention\" />\n          Requires Approval\n        </Table.Cell>\n      );\n    }\n\n    const { width } = this.state\n    const textAlign = width >= Responsive.onlyComputer.minWidth ? 'center' : 'left'\n\n\n    return (\n      <Responsive as={(Table.Row)} warning={!acct.approved} collapsing fireOnMount onUpdate={this.handleOnUpdate}>\n        <Table.Cell>\n          \n        <Header as='h4'>\n          <Header.Content>\n            {acct.firstName} {acct.lastName}\n            <Header.Subheader>{acct.org}</Header.Subheader>\n          </Header.Content>\n        </Header>\n        </Table.Cell>\n        <Table.Cell>{acct.role}</Table.Cell>\n        <Table.Cell>{acct.email}</Table.Cell>\n        {appEl}\n        <Table.Cell textAlign={textAlign}>\n          {acct.approved ? null : (\n            <Button.Group>\n              <Button compact size='mini' positive content=\"Approve\" onClick={() => this.handleApprove()}/>\n              <Button compact size='mini' content=\"Reject\" onClick={() => this.handlePurge()}/>\n            </Button.Group>\n          )}\n        </Table.Cell>\n        <Table.Cell textAlign={textAlign}>\n          <Icon\n              name=\"delete\"\n              className=\"delete\"\n              size=\"large\"\n              onClick={this.open}\n            />\n            <Confirm \n              size='small' \n              header=\"Are you sure?\"\n              content={`Are you sure you want to delete the account of ${acct.firstName} ${acct.lastName}? This action cannot be undone`}\n              cancelButton='Cancel'\n              confirmButton=\"Delete Account\"\n              open={this.state.open} \n              onCancel={this.close} \n              onConfirm={() => this.handlePurge()} />\n        </Table.Cell>\n      </Responsive>\n    );\n  }\n}\n","import React from \"react\";\nimport Account from \"./Account\";\nimport { Table, Segment, Loader, Dimmer, Responsive } from \"semantic-ui-react\";\n\nexport default class AccountList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      accountSnapshot: undefined\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.props.accountRef.off(\"value\", this.unlisten);\n    this.unlisten = nextProps.accountRef.on(\"value\", snapshot =>\n      this.setState({\n        accountSnapshot: snapshot\n      })\n    );\n  }\n\n  componentDidMount() {\n    this.unlisten = this.props.accountRef.on(\"value\", snapshot =>\n      this.setState({ accountSnapshot: snapshot })\n    );\n  }\n\n  componentWillUnmount() {\n    this.props.accountRef.off(\"value\", this.unlisten);\n  }\n\n  render() {\n    if (!this.state.accountSnapshot) {\n      return   <div>\n                <Segment>\n                  <Dimmer active inverted>\n                    <Loader indeterminate>Loading Accounts</Loader>\n                  </Dimmer>\n                </Segment>\n                </div>\n    }\n\n    let accts = [];\n    this.state.accountSnapshot.forEach(acctSnapshot => {\n      if (this.props.user.email !== acctSnapshot.val().email) {\n        accts.push(\n          <Account\n            key={acctSnapshot.key}\n            acctSnapshot={acctSnapshot}\n            acctRef={this.props.accountRef}\n          />\n        );\n      }\n    });\n\n    return (\n      <div>\n        {/* Regular View */}\n        <Responsive as={Table} selectable minWidth={768}>\n          <Table.Header>\n            <Table.Row collapsing>\n              <Table.HeaderCell>Name</Table.HeaderCell>\n              <Table.HeaderCell>Role</Table.HeaderCell>\n              <Table.HeaderCell>Email</Table.HeaderCell>\n              <Table.HeaderCell>Approval Status</Table.HeaderCell>\n              <Table.HeaderCell textAlign='center'>Actions</Table.HeaderCell>\n              <Table.HeaderCell textAlign='center'>Delete Account</Table.HeaderCell>\n            </Table.Row>\n          </Table.Header>\n          <Table.Body>{accts}</Table.Body>\n        </Responsive>\n\n        {/* Mobile View */}\n        <Responsive as={Table} size=\"mini\" compact=\"small\" maxWidth={767}>\n          <Table.Header>\n              <Table.Row collapsing>\n                <Table.HeaderCell>Name</Table.HeaderCell>\n                <Table.HeaderCell>Role</Table.HeaderCell>\n                <Table.HeaderCell>Email</Table.HeaderCell>\n                <Table.HeaderCell>Approval Status</Table.HeaderCell>\n                <Table.HeaderCell>Delete Account</Table.HeaderCell>\n              </Table.Row>\n            </Table.Header>\n            <Table.Body>{accts}</Table.Body>\n        </Responsive>\n      </div>\n    )\n  }\n}\n","import React from \"react\";\nimport constants from \"./constants\";\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/database\";\nimport AccountList from \"./AccountList\";\nimport { Container, Segment } from \"semantic-ui-react\";\n\nexport default class ManageAccount extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: \"\",\n      filter: \"\",\n      name: \"\",\n      org: \"\",\n      role: \"\",\n      date_added: \"\",\n      errorMessage: undefined\n    };\n\n    this.handleChange = this.handleChange.bind(this);\n  }\n  \n  componentDidMount() {\n    this.authUnsub = firebase.auth().onAuthStateChanged(user => {\n      this.setState({\n        currentUser: user\n      });\n      if (this.state.currentUser === null) {\n        this.props.history.push(constants.routes.base);\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    this.authUnsub();\n  }\n\n  handleChange(evt) {\n    this.setState({ value: evt.target.value });\n  }\n\n  render() {\n    let accountRef = firebase.database().ref(\"/users/\");\n\n    return (\n        <Segment raised>\n            <AccountList\n              user={this.state.currentUser}\n              accountRef={accountRef}\n            />\n        </Segment>\n    );\n  }\n}\n","import React from \"react\";\nimport constants from \"./constants\";\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/database\";\nimport { Responsive, Segment, Table, TableRow, Button, Label, Icon, Header, Confirm } from \"semantic-ui-react\";\n\nexport default class FarmerPayout extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n        farmerList: [],\n        paidUp: false\n    }\n  }\n\n  componentDidMount() {\n    this.authUnsub = firebase.auth().onAuthStateChanged(user => {\n      this.setState({\n        currentUser: user\n      });\n      if (!this.state.currentUser) { //changed from === null\n        this.props.history.push(constants.routes.base);\n      }\n    });\n\n    this.loadPayoutRecords()\n    this.listenForUpdates()\n  }\n\n  componentWillUnmount() {\n    this.authUnsub();\n  }\n\n  handleChange(evt) {\n    this.setState({ value: evt.target.value });\n  }\n\n  listenForUpdates = () => {\n    // let farmerList = this.state.farmerList\n    let farmerRef = firebase.database().ref('users')\n    farmerRef.on('child_changed', (_snapshot) => {\n        this.loadPayoutRecords()\n    })\n  }\n\n  loadPayoutRecords = () => {\n    let farmerList = []\n    let payoutRef = firebase.database().ref(\"/users/\");\n    payoutRef.once('value', (snapshot) => {\n        snapshot.forEach((childSnapshot) => {\n            let role = childSnapshot.val().role.toLowerCase()\n            let approved = childSnapshot.val().approved.toString().toLowerCase()\n\n            let totalBucks = 0\n            let bucksNotPaid = 0\n            //maybe can get rid of if statement...\n            if(childSnapshot.val().vouchersList) {\n                let vouchersList = childSnapshot.val().vouchersList  \n                Object.keys(vouchersList).forEach((voucher) => {\n                    totalBucks++\n                    if(vouchersList[voucher].toLowerCase() === 'notpaid') {\n                        bucksNotPaid++\n                    }\n                })\n            }\n\n            if(role === 'farmer' && approved === 'true') {\n                farmerList.push({\n                    name: childSnapshot.val().firstName + \" \" + childSnapshot.val().lastName,\n                    farmerUid: childSnapshot.key,\n                    farm: childSnapshot.val().org,\n                    email: childSnapshot.val().email,\n                    totalBucks: totalBucks,\n                    bucksNotPaid: bucksNotPaid,\n                    lastPayoutDate: childSnapshot.val().lastPayoutDate\n                })\n            }\n        });\n        this.setState({\n            farmerList\n        })\n    });\n    console.log(\"after set state, farmerList: \", farmerList)\n  }\n\n  open = () => this.setState({ open: true })\n  close = () => this.setState({ open: false })\n\n  // On Button click set the unpaid voucher list to be paidOut: true\n  completePayout = (farmerUid) => {\n    console.log(\"farmerUid\", farmerUid)\n    let farmerRef = firebase.database().ref('users/' + farmerUid + \"/vouchersList\")\n    farmerRef.on('value', (snapshot) => {\n        snapshot.forEach((childSnapshot) => {\n            let key = childSnapshot.key\n            console.log(\"key\", key)\n            let payoutRef = firebase.database().ref('users/' + farmerUid + \"/vouchersList\")\n            payoutRef.update({\n                [key]: \"paid\"\n            })\n        }) \n        let dateObj = new Date()\n        let prettyDate = (dateObj.getMonth() + 1) + \"/\" + dateObj.getDate() + \"/\" + dateObj.getFullYear()\n        console.log(\"prettyDate: \", prettyDate)\n        let dateRef =  firebase.database().ref('users/' + farmerUid)\n        dateRef.update({\n          lastPayoutDate: prettyDate\n        })\n    })\n    this.close()\n  }\n\n  render() {\n    const { farmerList } = this.state\n    console.log(\"farmerList: \", farmerList)\n\n    return (\n        <Segment raised>\n        <Header textAlign=\"center\" as=\"h3\">Farmer Payout Records</Header>\n\n          {/* Regular View */}\n          <Responsive as={Table} minWidth={1024} singleLine selectable stackable>\n            <Table.Header>\n              <Table.Row>\n                <Table.HeaderCell>Name</Table.HeaderCell>\n                <Table.HeaderCell>Farm</Table.HeaderCell>\n                <Table.HeaderCell>Email</Table.HeaderCell>\n                <Table.HeaderCell collapsing>Total Bucks Collected</Table.HeaderCell>\n                <Table.HeaderCell collapsing>Outstanding Bucks</Table.HeaderCell>\n                <Table.HeaderCell collapsing>Last Payout Date</Table.HeaderCell>\n              </Table.Row>\n            </Table.Header>\n\n            <Table.Body>\n            {\n            //for each item in the data provided, map will create a TableRow\n            //that has the respective name, farm, and email\n            farmerList.map(\n                (element) => {\n                    console.log(\"element: \", element)\n                    return (\n                        <TableRow>\n                            <Table.Cell>{element.name}</Table.Cell>\n                            <Table.Cell>{element.farm}</Table.Cell>\n                            <Table.Cell>{element.email}</Table.Cell>\n                            <Table.Cell>{element.totalBucks}</Table.Cell>\n                            <Table.Cell>\n                            {(element.bucksNotPaid === 0) ? \n                                <Button compact basic color='green'>\n                                <Icon color='green' name='checkmark' size='small' />\n                                All Paid Up!\n                                </Button>\n                                : \n                                <Button as='div' labelPosition='left'>\n                                    <Label basic as='a' pointing='right'>\n                                    {element.bucksNotPaid} Bucks / ${element.bucksNotPaid * 2}.00\n                                    </Label>\n                                    <Button color='green' icon onClick={this.open}>\n                                        <Icon name='dollar sign' />\n                                        Mark as Paid\n                                    </Button>\n                                    <Confirm \n                                        size='small' \n                                        header=\"Confirm Payout?\"\n                                        content={`This will mark (${element.bucksNotPaid}) unpaid bucks as PAID for ${element.name} at ${element.farm}`}\n                                        cancelButton='Cancel'\n                                        confirmButton=\"Mark as paid\"\n                                        open={this.state.open} \n                                        onCancel={this.close} \n                                        onConfirm={() => this.completePayout(element.farmerUid)} />\n                                </Button>\n                              }\n                              </Table.Cell>\n                              <Table.Cell>{element.lastPayoutDate}</Table.Cell>\n                          </TableRow>\n                    )\n                }\n            )\n            } \n          </Table.Body>\n          </Responsive>\n\n          {/* Mobile View */}\n          <Responsive as={Table} maxWidth={1023} compact=\"very\" singleLine selectable stackable>\n            <Table.Header>\n              <Table.Row>\n                <Table.HeaderCell>Name</Table.HeaderCell>\n                <Table.HeaderCell>Email</Table.HeaderCell>\n                <Table.HeaderCell collapsing>Total Bucks Collected</Table.HeaderCell>\n                <Table.HeaderCell collapsing>Outstanding Bucks</Table.HeaderCell>\n                <Table.HeaderCell collapsing>Last Payout Date</Table.HeaderCell>\n              </Table.Row>\n            </Table.Header>\n\n            <Table.Body>\n            {\n            //for each item in the data provided, map will create a TableRow\n            //that has the respective name, farm, and email\n            farmerList.map(\n                (element) => {\n                    console.log(\"element: \", element)\n                    return (\n                        <TableRow>\n                            <Table.Cell>\n                            <Header as='h4'>\n                              <Header.Content>\n                              {element.name}\n                                <Header.Subheader>{element.farm}</Header.Subheader>\n                              </Header.Content>\n                            </Header>\n                            </Table.Cell>\n\n                            <Table.Cell>{element.email}</Table.Cell>\n                            <Table.Cell>{element.totalBucks}</Table.Cell>\n                            <Table.Cell>\n                            {(element.bucksNotPaid === 0) ? \n                                <Button compact basic color='green' size=\"mini\">\n                                <Icon color='green' name='checkmark' size='small' />\n                                All Paid Up!\n                                </Button>\n                                : \n                                <Button as='div' labelPosition='left'>\n                                    <Label basic as='a' pointing='right'>\n                                    {element.bucksNotPaid} Bucks / ${element.bucksNotPaid * 2}.00\n                                    </Label>\n                                    <Button color='green' icon onClick={this.open}>\n                                        <Icon name='dollar sign' />\n                                        Mark as Paid\n                                    </Button>\n                                    <Confirm \n                                        size='small' \n                                        header=\"Confirm Payout?\"\n                                        content={`This will mark (${element.bucksNotPaid}) unpaid bucks as PAID for ${element.name} at ${element.farm}`}\n                                        cancelButton='Cancel'\n                                        confirmButton=\"Mark as paid\"\n                                        open={this.state.open} \n                                        onCancel={this.close} \n                                        onConfirm={() => this.completePayout(element.farmerUid)} />\n                                </Button>\n                              }\n                              </Table.Cell>\n                              <Table.Cell>{element.lastPayoutDate}</Table.Cell>\n                          </TableRow>\n                    )\n                }\n            )\n            } \n          </Table.Body>\n          </Responsive>\n      </Segment>\n    );\n  }\n}\n","import React, { useState, useEffect } from \"react\";\nimport { ResponsiveLine } from \"@nivo/line\";\n\nexport default function LineGraph(props) {\n  const [charData, setCharData] = useState([]);\n  const [role, setRole] = useState(\"\");\n  const [isLoaded, setIsLoaded] = useState(false);\n\n  // Only called after props update\n  useEffect(() => {\n    setRole(props.role);\n    setIsLoaded(props.isLoaded);\n    setCharData(props.charData);\n  }, [props]);\n\n  return (\n    <ResponsiveLine\n      data={charData}\n      colors={{ scheme: \"nivo\" }}\n      xScale={{\n        type: \"time\",\n        format: \"%Y-%m-%d\",\n        precision: \"day\"\n      }}\n      xFormat=\"time: %Y-%m-%d\"\n      curve=\"monotoneX\"\n      yScale={{\n        type: \"linear\",\n        stacked: false\n      }}\n      axisLeft={{\n        orient: \"left\",\n        tickSize: 5,\n        tickPadding: 5,\n        tickRotation: 0,\n        legend: \"Dollars\",\n        legendOffset: -40,\n        legendPosition: \"middle\"\n      }}\n      axisBottom={{\n        format: \"%b %d\",\n        tickValues: \"every 5 days\",\n        legend: \"Time Scale\",\n        legendOffset: -12\n      }}\n      animate={true}\n      margin={\n        role === \"farmer\"\n          ? { top: 10, right: 20, bottom: 100, left: 60 }\n          : { top: 10, right: 90, bottom: 100, left: 60 }\n      }\n      enableSlices={\"x\"}\n      lineWidth={3}\n      enableArea={true}\n      sliceTooltip={({ slice }) => {\n        return (\n          <div\n            style={{\n              background: \"white\",\n              padding: \"9px 12px\",\n              border: \"1px solid #ccc\"\n            }}\n          >\n            <strong>Date:</strong> {slice.points[0].data.xFormatted}\n            {slice.points.map(point => (\n              <div\n                key={point.id}\n                style={{\n                  color: point.serieColor\n                }}\n              >\n                <strong>{point.serieId}:</strong> ${point.data.yFormatted}.00\n              </div>\n            ))}\n          </div>\n        );\n      }}\n      legends={\n        role === \"caseworker\"\n          ? [\n              {\n                anchor: \"bottom-right\",\n                direction: \"column\",\n                justify: false,\n                translateX: 90,\n                translateY: 0,\n                itemsSpacing: 0,\n                itemDirection: \"left-to-right\",\n                itemWidth: 80,\n                itemHeight: 20,\n                itemOpacity: 0.75,\n                symbolSize: 12,\n                symbolShape: \"circle\",\n                symbolBorderColor: \"rgba(0, 0, 0, .5)\",\n                effects: [\n                  {\n                    on: \"hover\",\n                    style: {\n                      itemBackground: \"rgba(0, 0, 0, .03)\",\n                      itemOpacity: 1\n                    }\n                  }\n                ]\n              }\n            ]\n          : undefined\n      }\n    />\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport { ResponsiveBar } from \"@nivo/bar\";\nimport { Header } from \"semantic-ui-react\";\n\nexport default function BarGraph(props) {\n  const [charData, setCharData] = useState([]);\n\n  useEffect(() => {\n    setCharData(props.charData);\n  }, [props]);\n\n  return (\n    <ResponsiveBar\n      data={charData}\n      keys={\n        Array.isArray(props.curChartKey)\n          ? props.curChartKey\n          : [props.curChartKey]\n      }\n      indexBy=\"organization\"\n      theme={{\n        axis: {\n          ticks: {\n            text: { fontSize: \"18px\" }\n          },\n          legend: {\n            text: { fontSize: \"18px\" }\n          }\n        },\n        legends: { text: { fontSize: \"18px\" } }\n      }}\n      margin={{ top: 50, right: 150, bottom: 200, left: 80 }}\n      padding={0.2}\n      groupMode=\"grouped\"\n      colors={[\"#ABDDA4\", \"#66C2A5\", \"#3288BD\"]}\n      animate={true}\n      motionStiffness={90}\n      motionDamping={15}\n      borderColor={{ from: \"color\", modifiers: [[\"darker\", 1.6]] }}\n      axisTop={null}\n      axisRight={null}\n      axisBottom={{\n        tickSize: 5,\n        tickPadding: 5,\n        tickRotation: 45,\n        legend: \"Organization\",\n        legendPosition: \"middle\",\n        legendOffset: 100\n      }}\n      axisLeft={{\n        tickSize: 5,\n        tickPadding: 5,\n        tickRotation: 0,\n        legend: \"Dollars\",\n        legendPosition: \"middle\",\n        legendOffset: -55\n      }}\n      tooltip={({ data, indexValue }) => (\n        <div style={{ overflow: \"auto\" }}>\n          {indexValue.toUpperCase()}\n          <div>\n            Created:\n            <div style={{ marginLeft: \"5px\", float: \"right\" }}>\n              ${data[\"created\"]}.00\n            </div>\n          </div>\n          <div>\n            Distributed:\n            <div style={{ marginLeft: \"5px\", float: \"right\" }}>\n              ${data[\"handedOut\"]}.00\n            </div>\n          </div>\n          <div>\n            Redeemed:\n            <div style={{ marginLeft: \"5px\", float: \"right\" }}>\n              ${data[\"redeemed\"]}.00\n            </div>\n          </div>\n        </div>\n      )}\n      legends={[\n        {\n          dataFrom: \"keys\",\n          anchor: \"bottom-right\",\n          direction: \"column\",\n          justify: false,\n          translateX: 120,\n          translateY: 0,\n          itemsSpacing: 2,\n          itemWidth: 100,\n          itemHeight: 20,\n          itemDirection: \"left-to-right\",\n          itemOpacity: 0.85,\n          symbolSize: 15,\n          effects: [\n            {\n              on: \"hover\",\n              style: {\n                itemOpacity: 1\n              }\n            }\n          ]\n        }\n      ]}\n      labelSkipWidth={12}\n      labelSkipHeight={12}\n      labelTextColor={{ from: \"color\", modifiers: [[\"darker\", 1.6]] }}\n    />\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport {\n  Grid,\n  Container,\n  Segment,\n  Statistic,\n  Header,\n  Dropdown\n} from \"semantic-ui-react\";\nimport firebase from \"firebase/app\";\nimport LineGraph from \"./LineGraph\";\nimport BarGraph from \"./BarGraph\";\n\nconst orgOptions = [\n  { key: \"all\", text: \"All Organizations\", value: \"all\" },\n  { key: \"f\", text: \"Vashon Community Food Bank\", value: \"foodbank\" },\n  { key: \"d\", text: \"The Dove Project\", value: \"dove\" },\n  { key: \"c\", text: \"Vashon Community Care\", value: \"vcc\" },\n  { key: \"s\", text: \"Vashon Senior Center\", value: \"seniorcenter\" },\n  {\n    key: \"i\",\n    text: \"Interfaith Council to Prevent Homelessness\",\n    value: \"interfaith\"\n  },\n  { key: \"m\", text: \"Community Meals\", value: \"communitymeals\" },\n  { key: \"h\", text: \"Vashon Household\", value: \"vashonhousehold\" },\n  { key: \"l\", text: \"La Comunidad & ECEAP\", value: \"lacomunidad\" },\n  { key: \"y\", text: \"VYFS\", value: \"vyfs\" },\n  { key: \"x\", text: \"VYFS: Latinx\", value: \"vyfslatinx\" },\n  { key: \"p\", text: \"VYFS: Family Place\", value: \"vyfsfamily\" }\n];\n\nconst keySelection = [\n  {\n    key: \"allbucks\",\n    text: \"All Bucks\",\n    value: [\"created\", \"handedOut\", \"redeemed\"]\n  },\n  { key: \"created\", text: \"Bucks Created\", value: \"created\" },\n  { key: \"redeemed\", text: \"Bucks Redeemed\", value: \"redeemed\" },\n  { key: \"handedOut\", text: \"Bucks Handed Out\", value: \"handedOut\" }\n];\n\nconst options = [\n  {\n    text: \"All Time\",\n    value: \"all\"\n  },\n  {\n    text: \"This Year\",\n    value: \"year\"\n  },\n  {\n    text: \"This Month\",\n    value: \"month\"\n  }\n];\nconst title = {\n  all: \"All Time\",\n  year: \"This Year\",\n  month: \"This Month\"\n};\nexport default function Dashboard(props) {\n  // state variable, setter, useState(<default value>)\n  const [charData, setCharData] = useState([]);\n\n  // options to filter by organization\n  const [curFilter, setFilter] = useState(orgOptions[0].value);\n\n  // options to filter by buck state\n  const [curChartKey, setCurChartKey] = useState(keySelection[0].value);\n\n  // options to filter by organization\n  const [timeFilter, setTimeFilter] = useState(options[0].value);\n\n  const [role, setRole] = useState(\"\");\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [totalRedeemed, setTotalRedeemed] = useState(0);\n  const [curTimeline, setCurTimeline] = useState(\"\");\n  const [totalHandedOut, setTotalHandedOut] = useState(0);\n  const [totalCreated, setTotalCreated] = useState(0);\n\n  const [year, setYear] = useState();\n\n  useEffect(() => {\n    setRole(props.role);\n    if (props.role === \"farmer\") {\n      handleFarmer();\n    } else if (props.role === \"admin\") {\n      handleAdmin();\n    } else if (props.role === \"caseworker\") {\n      handleCaseworker();\n    }\n  }, [props]);\n\n  useEffect(() => {\n    if (role === \"admin\") {\n      handleAdmin();\n    }\n  }, [timeFilter]);\n\n  function handleFarmer() {\n    let ref = firebase\n      .database()\n      .ref(\"vis1/\" + props.uid)\n      .orderByValue();\n    let firebaseDataArray = [];\n    ref.on(\"child_added\", snapshot => {\n      let value = snapshot.val();\n      let scanDay = new Date(value).toISOString().split(\"T\")[0];\n      var index = firebaseDataArray.findIndex(function(item, i) {\n        return item.x === scanDay;\n      });\n      if (firebaseDataArray.length === 0) {\n        firebaseDataArray.push({\n          x: new Date(new Date(scanDay) - 1).toISOString().split(\"T\")[0],\n          y: 0\n        });\n        firebaseDataArray.push({\n          x: scanDay,\n          y: 2\n        });\n      } else if (firebaseDataArray.length !== 0 && index === -1) {\n        firebaseDataArray.push({\n          x: scanDay,\n          y: firebaseDataArray[firebaseDataArray.length - 1][\"y\"] + 2\n        });\n      } else {\n        firebaseDataArray[index].y += 2;\n      }\n      if (firebaseDataArray.length > 3) {\n        setIsLoaded(true);\n      }\n      setCharData([\n        {\n          id: \"Redeemed\",\n          data: firebaseDataArray\n        }\n      ]);\n      setTotalRedeemed(firebaseDataArray[firebaseDataArray.length - 1].y);\n    });\n  }\n\n  function handleAdmin() {\n    let ref = firebase\n      .database()\n      .ref()\n      .child(\"vis2/\");\n\n    ref.on(\"value\", snapshot => {\n      // loop through each org\n      let firebaseDataArray = [];\n      let redCount = 0;\n      let handCount = 0;\n      let createCount = 0;\n      for (var org in snapshot.val()) {\n        let orgJSON = { created: 0, handedOut: 0, redeemed: 0 };\n        orgJSON[\"organization\"] = org;\n        let value = snapshot.val();\n        for (var scanType in value[org]) {\n          let count = 0;\n          for (var id in value[org][scanType]) {\n            // if (\n            //   yearOpt.some(\n            //     // eslint-disable-next-line no-loop-func\n            //     e =>\n            //       e.value !== new Date(value[org][scanType][id]).getFullYear()\n            //   )\n            // ) {\n            //   setYearOpt(...yearOpt, {\n            //     value: new Date(value[org][scanType][id]).getFullYear(),\n            //     text: new Date(value[org][scanType][id]).getFullYear()\n            //   });\n            // }\n            if (timeFilter === options[0].value) {\n              if (scanType === \"redeemed\") {\n                redCount += 2;\n              } else if (scanType === \"created\") {\n                createCount += 2;\n              } else {\n                handCount += 2;\n              }\n              count += 2;\n            } else if (timeFilter === options[1].value) {\n              if (\n                new Date(value[org][scanType][id]).getFullYear() ===\n                new Date().getFullYear()\n              ) {\n                if (scanType === \"redeemed\") {\n                  redCount += 2;\n                } else if (scanType === \"created\") {\n                  createCount += 2;\n                } else {\n                  handCount += 2;\n                }\n                count += 2;\n              }\n            } else {\n              if (\n                new Date(value[org][scanType][id]).getMonth() ===\n                new Date().getMonth()\n              ) {\n                if (scanType === \"redeemed\") {\n                  redCount += 2;\n                } else if (scanType === \"created\") {\n                  createCount += 2;\n                } else {\n                  handCount += 2;\n                }\n                count += 2;\n              }\n            }\n          }\n          orgJSON[scanType] = count;\n        }\n        firebaseDataArray.push(orgJSON);\n      }\n\n      setCharData(firebaseDataArray);\n      setTotalCreated(createCount);\n      setTotalHandedOut(handCount);\n      setTotalRedeemed(redCount);\n    });\n  }\n  function isValidDate(d) {\n    return d instanceof Date && !isNaN(d);\n  }\n\n  function handleCaseworker() {\n    let ref = firebase\n      .database()\n      .ref()\n      .child(\"vis2/\" + props.org)\n      .orderByValue();\n    ref.on(\"value\", snapshot => {\n      let array = [];\n      for (var key in snapshot.val()) {\n        if (key !== \"created\") {\n          let firebaseDataArray = [];\n          let value = snapshot.val();\n          let dates = [];\n          // let datesInMonth = getDaysInMonth(\n          //   new Date().getMonth() - 1,\n          //   new Date().getFullYear()\n          // );\n\n          let datesInMonth = [\n            \"2019-05-04T07:00:00.000Z\",\n            \"2019-05-05T07:00:00.000Z\",\n            \"2019-05-06T07:00:00.000Z\",\n            \"2019-05-07T07:00:00.000Z\",\n            \"2019-05-08T07:00:00.000Z\",\n            \"2019-05-09T07:00:00.000Z\",\n            \"2019-05-10T07:00:00.000Z\",\n            \"2019-05-11T07:00:00.000Z\",\n            \"2019-05-12T07:00:00.000Z\",\n            \"2019-05-13T07:00:00.000Z\",\n            \"2019-05-14T07:00:00.000Z\",\n            \"2019-05-15T07:00:00.000Z\",\n            \"2019-05-16T07:00:00.000Z\",\n            \"2019-05-17T07:00:00.000Z\",\n            \"2019-05-18T07:00:00.000Z\",\n            \"2019-05-19T07:00:00.000Z\",\n            \"2019-05-20T07:00:00.000Z\",\n            \"2019-05-21T07:00:00.000Z\",\n            \"2019-05-22T07:00:00.000Z\",\n            \"2019-05-23T07:00:00.000Z\",\n            \"2019-05-24T07:00:00.000Z\",\n            \"2019-05-25T07:00:00.000Z\",\n            \"2019-05-26T07:00:00.000Z\",\n            \"2019-05-27T07:00:00.000Z\",\n            \"2019-05-28T07:00:00.000Z\",\n            \"2019-05-29T07:00:00.000Z\",\n            \"2019-05-30T07:00:00.000Z\",\n            \"2019-06-01T07:00:00.000Z\",\n            \"2019-06-02T07:00:00.000Z\",\n            \"2019-06-03T07:00:00.000Z\",\n            \"2019-06-04T07:00:00.000Z\"\n          ];\n\n          \n          for (var childKey in value[key]) {\n            console.log(value[key][childKey]);\n            try {\n              dates.push(\n                new Date(value[key][childKey]).toISOString().split(\"T\")[0]\n              );\n            } catch (error) {\n              console.log(error);\n            }\n          }\n\n          var counts = {};\n\n          for (var i = 0; i < dates.length; i++) {\n            var day = dates[i];\n            counts[day] = counts[day] ? counts[day] + 1 : 1;\n          }\n\n          let tot = 0;\n\n          for (let i in datesInMonth) {\n            let date = new Date(datesInMonth[i]).toISOString().split(\"T\")[0];\n\n            if (counts[date]) {\n              tot += 2 * counts[date];\n            }\n\n            firebaseDataArray.push({\n              x: date,\n              y: tot\n            });\n          }\n\n          let newData = {\n            id: key,\n            data: firebaseDataArray\n          };\n          if (key === \"redeemed\") {\n            setTotalRedeemed(\n              firebaseDataArray[firebaseDataArray.length - 1][\"y\"]\n            );\n          } else if (key === \"handedOut\") {\n            setTotalHandedOut(\n              firebaseDataArray[firebaseDataArray.length - 1][\"y\"]\n            );\n          }\n          array = [...array, newData];\n        }\n      }\n      if (enoughData(array)) {\n        setIsLoaded(true);\n      }\n      setCharData(array);\n    });\n  }\n\n  function getDaysInMonth(month, year) {\n    var date = new Date(year, month, 1);\n    var days = [];\n    while (date.getMonth() === month) {\n      days.push(new Date(date));\n      date.setDate(date.getDate() + 1);\n    }\n    return days;\n  }\n\n  function enoughData(arr) {\n    for (var i = 0, len = arr.length; i < len; i++) {\n      if (arr[i][\"data\"].length < 5) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  function numberWithCommas(x) {\n    var parts = x.toString().split(\".\");\n    parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n    return parts.join(\".\");\n  }\n\n  function onOrgChange(_event, data) {\n    setFilter(data.value);\n  }\n\n  function onKeyChange(_event, data) {\n    setCurChartKey(data.value);\n  }\n\n  function onDateChange(_event, data) {\n    setTimeFilter(data.value);\n  }\n\n  // filter for organizations +\n  let filteredData;\n  console.log(\"curChartKey\", curChartKey);\n  console.log(\"keySelection[0].value\", keySelection[0].value);\n\n  if (role === \"admin\") {\n    if (curChartKey === keySelection[0].value) {\n      console.log(\"all\" + curChartKey);\n      filteredData = charData\n        .filter(\n          dataPoint =>\n            dataPoint.organization === curFilter ||\n            curFilter === orgOptions[0].value\n        )\n        .map(dataPoint => ({\n          organization: dataPoint.organization,\n          [curChartKey[0]]: dataPoint[curChartKey[0]],\n          [curChartKey[1]]: dataPoint[curChartKey[1]],\n          [curChartKey[2]]: dataPoint[curChartKey[2]]\n        }));\n    } else {\n      filteredData = charData\n        .filter(\n          dataPoint =>\n            dataPoint.organization === curFilter ||\n            curFilter === orgOptions[0].value\n        )\n        .map(dataPoint => ({\n          organization: dataPoint.organization,\n          [curChartKey]: dataPoint[curChartKey]\n        }));\n    }\n  } else {\n    filteredData = charData;\n  }\n\n  return (\n    <Container fluid>\n      <Grid stackable centered>\n        <Grid.Row>\n          <Grid.Column width={11}>\n            <Segment\n              className=\"graph_container\"\n              raised\n              style={{ height: \"700px\" }}\n            >\n              <Header className=\"graph_title\" size=\"huge\">\n                VIGA Farm Buck Data - {title[timeFilter]}{\" \"}\n              </Header>\n              {role === \"admin\" ? (\n                <BarGraph curChartKey={curChartKey} charData={filteredData} />\n              ) : (\n                <LineGraph\n                  charData={filteredData}\n                  role={role}\n                  isLoaded={isLoaded}\n                />\n              )}\n            </Segment>\n          </Grid.Column>\n          <Grid.Column width={4}>\n          {role === \"admin\" ? (\n            <div>\n          <Segment raised padded>\n            <Header as=\"h2\">Totals</Header>\n                <Statistic.Group size=\"small\" horizontal>\n                  <Statistic>\n                    <Statistic.Value>\n                      {\"$\" + numberWithCommas(totalCreated) + \".00\"}\n                    </Statistic.Value>\n                    <Statistic.Label>Dollars Created</Statistic.Label>\n                  </Statistic>\n                  <Statistic>\n                    <Statistic.Value>\n                      {\"$\" + numberWithCommas(totalHandedOut) + \".00\"}\n                    </Statistic.Value>\n                    <Statistic.Label>Dollars Handed Out</Statistic.Label>\n                  </Statistic>\n                  <Statistic>\n                    <Statistic.Value>\n                      {\"$\" + numberWithCommas(totalRedeemed) + \".00\"}\n                    </Statistic.Value>\n                    <Statistic.Label>Dollars Redeemed</Statistic.Label>\n                  </Statistic>\n                </Statistic.Group>\n            </Segment>\n\n          <Segment raised centered>\n            <Header as=\"h4\" content=\"Filter by Time Interval\" />\n\n            <Dropdown\n              defaultValue={options[0].value}\n              fluid\n              selection\n              options={options}\n              onChange={onDateChange}\n            />\n\n            <Header as=\"h4\" content=\"Filter by Organization\" />\n\n            <Dropdown\n              defaultValue={orgOptions[0].value}\n              fluid\n              selection\n              options={orgOptions}\n              onChange={onOrgChange}\n            />\n\n            <Header as=\"h4\" content=\"Filter by Buck State\" />\n\n            <Dropdown\n              defaultValue={keySelection[0].value}\n              fluid\n              selection\n              options={keySelection}\n              onChange={onKeyChange}\n            />\n            </Segment>\n            </div>\n          ) : null }\n            \n          </Grid.Column>\n        </Grid.Row>\n      </Grid>\n    </Container>\n  );\n}\n","import React from \"react\";\nimport { HashRouter as Router, Switch, Route, Link } from \"react-router-dom\";\nimport BucksLanding from \"./BucksLanding\";\nimport constants from \"./constants\";\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/database\";\nimport Scan from \"./Scan\";\nimport ManageAccount from \"./ManageAccount\";\nimport FarmerPayout from \"./FarmerPayout\";\nimport CreateBucks from \"./CreateBucks.jsx\";\nimport {\n  Container,\n  Header,\n  Icon,\n  Label,\n  Menu,\n  Segment,\n  Responsive\n} from \"semantic-ui-react\";\nimport Dashboard from \"./Dashboard\";\n\nexport default class MainView extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      role: \"\",\n      username: \"\",\n      org: \"\"\n      //sidebarDocked: mql.matches,\n      //sidebarOpen: false\n    };\n\n    //this.mediaQueryChanged = this.mediaQueryChanged.bind(this);\n    //this.onSetSidebarOpen = this.onSetSidebarOpen.bind(this);\n  }\n\n  handleOnUpdate = (e, { width }) => this.setState({ width });\n\n  handleSignOut = () => {\n    firebase\n      .auth()\n      .signOut()\n      .then(this.props.history.push(constants.routes.base));\n  };\n\n  componentWillMount() {\n    //mql.addListener(this.mediaQueryChanged);\n  }\n\n  componentWillUnmount() {\n    //mql.removeListener(this.mediaQueryChanged);\n  }\n\n  onSetSidebarOpen(open) {\n    //this.setState({ sidebarOpen: open });\n  }\n\n  mediaQueryChanged() {\n    //this.setState({ sidebarDocked: mql.matches, sidebarOpen: false });\n  }\n\n  // anton componentDidMount() -> useful for testing because you can still work if not approved\n  componentDidMount() {\n    this.authUnsub = firebase.auth().onAuthStateChanged(user => {\n      if (!user) {\n        this.props.history.push(constants.routes.base);\n      } else {\n        firebase\n          .database()\n          .ref(\"users/\" + user.uid)\n          .once(\"value\")\n          .then(snapshot => {\n            var org = snapshot.val().org;\n            user.getIdTokenResult(true).then(idTokenResult => {\n              console.log(idTokenResult.claims.role);\n              if (idTokenResult.claims.role === \"caseworker\") {\n                this.setState({\n                  username: user.email,\n                  uid: user.uid,\n                  role: idTokenResult.claims.role,\n                  org: org\n                });\n              } else {\n                this.setState({\n                  username: user.email,\n                  uid: user.uid,\n                  role: idTokenResult.claims.role\n                });\n              }\n            });\n          });\n      }\n    });\n  }\n\n  // august componentDidMount() -> does not allow people to route around\n  // componentDidMount() {\n  //   this.authUnsub = firebase.auth().onAuthStateChanged(user => {\n  //     if(!user) {\n  //       this.props.history.push(constants.routes.base);\n  //     } else { //they are authenticated\n  //       user.getIdTokenResult().then(idTokenResult => {\n  //         console.log(idTokenResult.claims.role)\n  //         if(!idTokenResult.claims.role) {\n  //           //their role is null\n  //           //push them to the barrier page\n  //           this.props.history.push(constants.routes.barrier);\n  //         } else {\n  //           //their role has been approved\n  //           firebase\n  //             .database()\n  //             .ref(\"users/\" + user.uid)\n  //             .once(\"value\")\n  //             .then(snapshot => {\n  //               var org = snapshot.val().org;\n  //               this.setState({\n  //                 username: user.email,\n  //                 uid: user.uid,\n  //                 role: idTokenResult.claims.role,\n  //                 org: org\n  //               });\n  //             })\n  //         }\n  //       })\n  //     }\n  //   })\n  // }\n\n  render() {\n    let farmerNav = [\n      <Menu.Item\n        name=\"Scan\"\n        as={Link}\n        to={constants.routes.dash.base}\n        active={this.props.location.pathname === constants.routes.dash.base}\n      />,\n      <Menu.Item\n        name=\"View Data\"\n        as={Link}\n        to={constants.routes.dash.viewData}\n        active={this.props.location.pathname === constants.routes.dash.viewData}\n      />\n    ];\n\n    let cworkerNav = [\n      <Menu.Item\n        name=\"Scan\"\n        as={Link}\n        to={constants.routes.dash.base}\n        active={this.props.location.pathname === constants.routes.dash.base}\n      />,\n      <Menu.Item\n        name=\"View Data\"\n        as={Link}\n        to={constants.routes.dash.viewData}\n        active={this.props.location.pathname === constants.routes.dash.viewData}\n      />\n    ];\n\n    let adminNav = [\n      <Menu.Item\n        name=\"Create Bucks\"\n        as={Link}\n        to={constants.routes.dash.bucksLanding}\n        active={\n          this.props.location.pathname === constants.routes.dash.bucksLanding\n        }\n      />,\n      <Menu.Item\n        name=\"Manage Accounts\"\n        as={Link}\n        to={constants.routes.dash.manageAccount}\n        active={\n          this.props.location.pathname === constants.routes.dash.manageAccount\n        }\n      />,\n      <Menu.Item\n        name=\"View Data\"\n        as={Link}\n        to={constants.routes.dash.viewData}\n        active={this.props.location.pathname === constants.routes.dash.viewData}\n      />\n    ];\n\n    let bookkeeperNav = [\n      <Menu.Item\n        name=\"Farmer Payout\"\n        as={Link}\n        to={constants.routes.dash.farmerPayout}\n        active={\n          this.props.location.pathname === constants.routes.dash.farmerPayout\n        }\n      />\n    ];\n\n    let farmerUI = [\n      <Route\n        exact\n        path={constants.routes.dash.base}\n        render={() => <Scan role={this.state.role} userId={this.state.uid} />}\n      />,\n      <Route\n        path={constants.routes.dash.viewData}\n        render={() => (\n          <Dashboard\n            role={this.state.role}\n            uid={this.state.uid}\n            org={this.state.org}\n          />\n        )}\n      />\n    ];\n\n    let cworkerUI = [\n      <Route\n        exact\n        path={constants.routes.dash.base}\n        render={() => <Scan role={this.state.role} userId={this.state.uid} />}\n      />,\n      <Route\n        path={constants.routes.dash.viewData}\n        render={() => (\n          <Dashboard\n            role={this.state.role}\n            uid={this.state.uid}\n            org={this.state.org}\n          />\n        )}\n      />\n    ];\n\n    let adminUI = [\n      <Route\n        path={constants.routes.dash.bucksLanding}\n        render={() => <BucksLanding username={this.state.username} />}\n      />,\n      <Route\n        path={constants.routes.dash.manageAccount}\n        component={ManageAccount}\n      />,\n      <Route\n        path={constants.routes.dash.base}\n        render={() => (\n          <Dashboard\n            role={this.state.role}\n            uid={this.state.uid}\n            org={this.state.org}\n          />\n        )}\n      />,\n      <Route\n        path={constants.routes.dash.createBucks}\n        render={() => <CreateBucks username={this.state.username} />}\n      />\n    ];\n\n    let bookkeeperUI = [\n      <Route\n        path={constants.routes.dash.farmerPayout}\n        render={() => <FarmerPayout username={this.state.username} />}\n      />\n    ];\n\n    let ui;\n    let label;\n    let nav;\n    let isAdmin;\n\n    if (this.state.role === \"admin\") {\n      ui = adminUI;\n      nav = adminNav;\n      label = \"Food Access Partnership\";\n      isAdmin = true;\n    } else if (this.state.role === \"caseworker\") {\n      ui = cworkerUI;\n      nav = cworkerNav;\n      label = \"Partner Organization\";\n      isAdmin = false;\n    } else if (this.state.role === \"farmer\") {\n      ui = farmerUI;\n      nav = farmerNav;\n      label = \"Farmer\";\n      isAdmin = false;\n    } else if (this.state.role === \"bookkeeper\") {\n      ui = bookkeeperUI;\n      nav = bookkeeperNav;\n      label = \"Bookkeeper\";\n      isAdmin = false;\n    }\n\n    let title;\n\n    if (this.props.location.pathname === \"/dash\") {\n      title = \"View Data\";\n    } else if (this.props.location.pathname === \"/dash/manage\") {\n      title = \"Manage Accounts\";\n    } else if (this.props.location.pathname === \"/dash/BucksLanding\") {\n      title = \"Create a Buck Set\";\n    } else if (this.props.location.pathname === \"/dash/farmerPayout\") {\n      title = \"Farmer Payout\";\n    } else if (this.props.location.pathname === \"/dash/ViewData\") {\n      title = \"View Data\";\n    } \n\n    return (\n      <div>\n        {/* Regular Header */}\n        <Responsive as={Segment} clearing minWidth={768} basic color=\"blue\" inverted padded=\"very\" className=\"HeaderContainer\">\n          {/* <Segment basic color=\"blue\" inverted padded=\"very\"> */}\n          <Header padded=\"very\" size=\"huge\" floated=\"left\" inverted color='white'>\n            {title}\n          </Header>\n\n          <Header floated=\"right\" inverted color='white' className=\"Header_UserInfo\">\n            {this.state.username}\n            <Header.Subheader inverted color='white'>\n              <Label><Icon name='user' /> {label}</Label>\n            </Header.Subheader>\n          </Header>\n          {/* </Segment> */}\n        </Responsive>\n\n        {/* Mobile Header */}\n        <Responsive as={Segment} maxWidth={767} basic color=\"blue\" inverted padded=\"very\" className=\"HeaderContainer\">\n          <Header padded=\"very\" size=\"huge\" inverted color='white'>\n            {title}\n            <Header.Subheader inverted color='white' className=\"Header_UserInfo mobile\">\n              {this.state.username}\n              <Label><Icon name='user' /> {label}</Label>\n            </Header.Subheader>\n          </Header>\n\n          \n        </Responsive>\n        <Menu secondary stackable={isAdmin} className=\"NavMenuContainer\">\n          {nav}\n          <Menu.Menu position=\"right\">\n            <Menu.Item className=\"Logout_btn\" name=\"logout\" onClick={this.handleSignOut} />\n          </Menu.Menu>\n        </Menu>\n\n        {\n          this.props.location.pathname !== \"/dash/ViewData\"\n          &&\n          <Container>\n            <Router>\n              <Switch>{ui}</Switch>\n            </Router>\n          </Container>\n        }\n        {\n          this.props.location.pathname === \"/dash/ViewData\"\n          &&\n          <Router>\n            <Switch>{ui}</Switch>\n          </Router>\n        }\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport firebase from \"firebase/app\";\nimport constants from \"./constants\";\nimport { Grid, Header, Icon, Segment } from \"semantic-ui-react\";\nimport \"firebase/auth\";\nimport \"firebase/database\";\n\nexport default class Barrier extends React.Component {\n  componentDidMount() {\n    this.authUnsub = firebase.auth().onIdTokenChanged(user => {\n      if (user) {\n        console.log(\"user = \", { user });\n        user.getIdTokenResult(true).then(idTokenResult => {\n          console.log(\"idTokenResult\", idTokenResult.claims.role);\n          if (idTokenResult.claims.role) {\n            //push them on to the dashboard\n            this.props.history.push(constants.routes.dash.base);\n          }\n        });\n      } else {\n        console.log(\"user not defined\");\n      }\n    });\n    // firebase.auth().onIdTokenChanged()\n  }\n\n  render() {\n    return (\n      <Grid centered=\"true\">\n        <Grid.Column width={8} verticalAlign=\"middle\" textAlign=\"center\">\n          <Segment inverted color=\"olive\" className=\"barrierContainer\">\n            <Icon name=\"hand paper outline\" size=\"huge\" />\n            <Header\n              inverted\n              as=\"h1\"\n              content=\"Your account is pending approval.\"\n            />\n            <Header.Subheader>\n              Once your account is approved this page will automatically update.\n            </Header.Subheader>\n            <p>\n              Please contact foodaccesspartnership@vigavashon.org with account\n              inquiries.\n            </p>\n          </Segment>\n        </Grid.Column>\n      </Grid>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport { HashRouter as Router, Switch, Route } from \"react-router-dom\";\nimport constants from \"./components/constants\";\nimport \"firebase/auth\";\nimport \"firebase/database\";\nimport LogInActivity from \"./components/LogInActivity.jsx\";\nimport CreateAccount from \"./components/CreateAccount.jsx\";\nimport AccountRecovery from \"./components/AccountRecovery.jsx\";\nimport MainView from \"./components/MainView\";\nimport Barrier from \"./components/Barrier.jsx\";\n\nclass App extends Component {\n  // constructor(props) {\n  //   super(props)\n  //   this.state = {\n  //     user: undefined\n  //   }\n  // }\n\n  // componentDidMount() {\n  //   firebase.auth().onAuthStateChanged(user => {\n  //     if (!user) {\n  //       this.props.history.push(constants.routes.base)\n  //     } else {\n  //       this.setState({\n  //         user\n  //       })\n  //     }\n  //   });\n  // }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Router>\n          <Switch>\n            <Route\n              exact\n              path={constants.routes.base}\n              component={LogInActivity}\n            />\n            {/* {this.state.user && <Route path={constants.routes.base} component={MainView} />} */}\n            <Route path={constants.routes.dash.base} component={MainView} />\n            <Route\n              path={constants.routes.createAccount}\n              component={CreateAccount}\n            />\n            <Route\n              path={constants.routes.accountRecovery}\n              component={AccountRecovery}\n            />\n            <Route path={constants.routes.barrier} component={Barrier} />\n          </Switch>\n        </Router>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport 'semantic-ui-css/semantic.min.css';\nimport firebase from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/database';\n\n// Initialize Firebase\nvar config = {\n    apiKey: \"AIzaSyArFZbAeQ5YDelr8x-lChKbUvPvo2Z7GF8\",\n    authDomain: \"fapadmin-97af8.firebaseapp.com\",\n    databaseURL: \"https://fapadmin-97af8.firebaseio.com\",\n    projectId: \"fapadmin-97af8\",\n    storageBucket: \"fapadmin-97af8.appspot.com\",\n    messagingSenderId: \"766068690399\"\n};\n\nfirebase.initializeApp(config);\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}